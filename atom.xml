<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>小站</title>
  
  
  <link href="http://example.com/atom.xml" rel="self"/>
  
  <link href="http://example.com/"/>
  <updated>2024-10-01T18:24:12.657Z</updated>
  <id>http://example.com/</id>
  
  <author>
    <name>Ganxy</name>
    
  </author>
  
  <generator uri="https://hexo.io/">Hexo</generator>
  
  <entry>
    <title>【upai】又拍云</title>
    <link href="http://example.com/2024/10/02/%E3%80%90upai%E3%80%91%E5%8F%88%E6%8B%8D%E4%BA%91/"/>
    <id>http://example.com/2024/10/02/%E3%80%90upai%E3%80%91%E5%8F%88%E6%8B%8D%E4%BA%91/</id>
    <published>2024-10-01T18:23:15.000Z</published>
    <updated>2024-10-01T18:24:12.657Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><p>github 托管 图片加载不出来 需代理访问</p>]]></content>
    
    
      
      
    <summary type="html">&lt;link rel=&quot;stylesheet&quot; class=&quot;aplayer-secondary-style-marker&quot; href=&quot;&#92;assets&#92;css&#92;APlayer.min.css&quot;&gt;&lt;script src=&quot;&#92;assets&#92;js&#92;APlayer.min.js&quot; cla</summary>
      
    
    
    
    
  </entry>
  
  <entry>
    <title>【新】更新博客主题</title>
    <link href="http://example.com/2024/10/02/%E3%80%90%E6%96%B0%E3%80%91%E6%9B%B4%E6%96%B0%E5%8D%9A%E5%AE%A2%E4%B8%BB%E9%A2%98/"/>
    <id>http://example.com/2024/10/02/%E3%80%90%E6%96%B0%E3%80%91%E6%9B%B4%E6%96%B0%E5%8D%9A%E5%AE%A2%E4%B8%BB%E9%A2%98/</id>
    <published>2024-10-01T16:56:55.000Z</published>
    <updated>2024-10-01T16:59:45.244Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><h2 id="背景"><a href="#背景" class="headerlink" title="背景"></a>背景</h2><p>建站两年有余，闲暇捣鼓博客。故立新篇，重操旧业。</p>]]></content>
    
    
      
      
    <summary type="html">&lt;link rel=&quot;stylesheet&quot; class=&quot;aplayer-secondary-style-marker&quot; href=&quot;&#92;assets&#92;css&#92;APlayer.min.css&quot;&gt;&lt;script src=&quot;&#92;assets&#92;js&#92;APlayer.min.js&quot; cla</summary>
      
    
    
    
    
  </entry>
  
  <entry>
    <title>【PostFix】邮件服务器配置</title>
    <link href="http://example.com/2024/07/15/%E3%80%90PostFix%E3%80%91%E9%82%AE%E4%BB%B6%E6%9C%8D%E5%8A%A1%E5%99%A8%E9%85%8D%E7%BD%AE/"/>
    <id>http://example.com/2024/07/15/%E3%80%90PostFix%E3%80%91%E9%82%AE%E4%BB%B6%E6%9C%8D%E5%8A%A1%E5%99%A8%E9%85%8D%E7%BD%AE/</id>
    <published>2024-07-15T04:07:11.000Z</published>
    <updated>2024-10-01T16:14:56.478Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><h2 id="测试端口"><a href="#测试端口" class="headerlink" title="测试端口"></a>测试端口</h2><p>Test-NetConnection -ComputerName 8.130.131.37 -Port 25</p><h2 id="配置main-cf"><a href="#配置main-cf" class="headerlink" title="配置main.cf"></a>配置main.cf</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"># 邮件服务器名称</span><br><span class="line">myhostname = mail.example.com</span><br><span class="line"># 域名</span><br><span class="line">mydomain = example.com</span><br><span class="line"># 邮件服务器的IP地址</span><br><span class="line">myorigin = $mydomain</span><br><span class="line"># 允许的发送者和接收者</span><br><span class="line">mynetworks = 127.0.0.0/8 [::ffff:127.0.0.0]/104 [::1]/128</span><br><span class="line"></span><br><span class="line"># 邮件服务监听的网络接口</span><br><span class="line">inet_interfaces = all</span><br><span class="line"># 邮件服务监听的端口</span><br><span class="line">inet_protocols = ipv4</span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="telnet测试"><a href="#telnet测试" class="headerlink" title="telnet测试"></a>telnet测试</h2><p>telnet mail01.ganxy03.cn 25<br>HELO mail01.ganxy03.cn</p><p>MAIL FROM: <a href="mailto:&#114;&#x6f;&#x6f;&#116;&#64;&#103;&#97;&#x6e;&#x78;&#x79;&#48;&#51;&#46;&#99;&#x6e;">&#114;&#x6f;&#x6f;&#116;&#64;&#103;&#97;&#x6e;&#x78;&#x79;&#48;&#51;&#46;&#99;&#x6e;</a><br>RCPT TO: <a href="mailto:&#50;&#49;&#x39;&#x32;&#x37;&#54;&#55;&#55;&#49;&#x38;&#x40;&#113;&#x71;&#46;&#99;&#x6f;&#x6d;">&#50;&#49;&#x39;&#x32;&#x37;&#54;&#55;&#55;&#49;&#x38;&#x40;&#113;&#x71;&#46;&#99;&#x6f;&#x6d;</a></p><h2 id="开启smtp验证"><a href="#开启smtp验证" class="headerlink" title="开启smtp验证"></a>开启smtp验证</h2><h3 id="安装-dovecot"><a href="#安装-dovecot" class="headerlink" title="安装 dovecot"></a>安装 dovecot</h3><p>yum install -y dovecot</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">smtpd_sasl_type = dovecot：指定SASL认证方式使用Dovecot</span><br><span class="line">smtpd_sasl_path = private/auth：指定SASL的认证路径</span><br><span class="line">smtpd_sasl_auth_enable = yes：开启SMTP AUTH认证</span><br><span class="line">smtpd_sasl_security_options = noanonymous：禁用匿名登录</span><br><span class="line">smtpd_recipient_restrictions = permit_mynetworks,permit_auth_destination,permit_sasl_authenticated,reject：限制收件人的规则</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">添加sasl认证</span><br><span class="line">smtpd_sasl_auth_enable = yes</span><br><span class="line">smtpd_sasl_security_options = noanonymous</span><br><span class="line">smtpd_sasl_local_domain = $mydomain</span><br><span class="line">smtpd_sasl_application_name = smtpd</span><br><span class="line">broken_sasl_auth_clients = yes</span><br><span class="line">smtpd_recipient_restrictions = permit_sasl_authenticated, reject_unauth_destination</span><br></pre></td></tr></table></figure><h2 id="测试发送"><a href="#测试发送" class="headerlink" title="测试发送"></a>测试发送</h2><p><code>echo &quot;邮件正文&quot; | mail -s &quot;邮件主题&quot; 收件人邮箱地址</code></p><p><code>echo &quot;测试内容&quot; | mail -s &quot;邮件测试&quot; 2192767718@qq.com</code></p><p><code>echo &quot;测试内容&quot; | mail -s &quot;邮件测试&quot; 2411923595@qq.com</code></p><h2 id="身份验证"><a href="#身份验证" class="headerlink" title="身份验证"></a>身份验证</h2><p>telnet mail01.ganxy03.cn 25<br>HELO mail01.ganxy03.cn</p><p>AUTH LOGIN</p><p>cm9vdA&#x3D;&#x3D;</p><p>YWJjMTM3MzU4MjAyNDQ&#x3D;<br>mail from: <a href="mailto:&#x32;&#x31;&#57;&#x32;&#55;&#x36;&#x37;&#x37;&#49;&#56;&#x40;&#113;&#113;&#x2e;&#x63;&#x6f;&#x6d;">&#x32;&#x31;&#57;&#x32;&#55;&#x36;&#x37;&#x37;&#49;&#56;&#x40;&#113;&#113;&#x2e;&#x63;&#x6f;&#x6d;</a><br>MAIL FROM: <a href="mailto:&#114;&#x6f;&#111;&#116;&#64;&#103;&#97;&#x6e;&#120;&#x79;&#x30;&#x33;&#x2e;&#x63;&#110;">&#114;&#x6f;&#111;&#116;&#64;&#103;&#97;&#x6e;&#120;&#x79;&#x30;&#x33;&#x2e;&#x63;&#110;</a><br>RCPT TO:<a href="mailto:&#50;&#49;&#57;&#x32;&#x37;&#54;&#x37;&#x37;&#49;&#x38;&#64;&#x71;&#x71;&#46;&#x63;&#111;&#109;">&#50;&#49;&#57;&#x32;&#x37;&#54;&#x37;&#x37;&#49;&#x38;&#64;&#x71;&#x71;&#46;&#x63;&#111;&#109;</a></p><p>RCPT TO: <a href="mailto:&#x32;&#x31;&#57;&#x32;&#55;&#x36;&#55;&#x37;&#x31;&#56;&#64;&#113;&#x71;&#x2e;&#x63;&#111;&#109;">&#x32;&#x31;&#57;&#x32;&#55;&#x36;&#55;&#x37;&#x31;&#56;&#64;&#113;&#x71;&#x2e;&#x63;&#111;&#109;</a></p><p>以下以QQ邮箱服务器为例：</p><p>telnet smtp.qq.com 25<br>220 newxmesmtplogicsvrsza10-0.qq.com XMail Esmtp QQ Mail Server.<br><code>helo qq.com</code><br>250-newxmesmtplogicsvrsza10-0.qq.com-11.137.201.48-22340307<br>250-SIZE 73400320<br>250 OK<br><code>auth login</code><br>334 VXNlcm5hbWU6<br><code>MjE5Mjc2NzcxOEBxcS5jb20=</code><br>334 UGFzc3dvcmQ6<br><code>bWZkdnBhZnNsbHFxZWJkag==</code><br>235 Authentication successful<br><code>mail from: &lt;2192767718@qq.com&gt;</code></p><p><code>rcpt to: &lt;2192767718@qq.com&gt;</code></p><p>data<br><code>From:2192767718@qq.com</code></p><p><code>To:2192767718@qq.com</code><br><code>Do one thing at a time, </code><br><code>and do well.</code><br><code>.</code></p><p>查看所有账户：<br>sasldblistusers2</p><p>删除<br>saslpasswd2 -d -u ganxy03.cn root</p><p>新建<br>saslpasswd2 -c -p test</p>]]></content>
    
    
      
      
    <summary type="html">&lt;link rel=&quot;stylesheet&quot; class=&quot;aplayer-secondary-style-marker&quot; href=&quot;&#92;assets&#92;css&#92;APlayer.min.css&quot;&gt;&lt;script src=&quot;&#92;assets&#92;js&#92;APlayer.min.js&quot; cla</summary>
      
    
    
    
    
  </entry>
  
  <entry>
    <title>【Hadoop】高可用集群搭建</title>
    <link href="http://example.com/2024/06/04/%E3%80%90Hadoop%E3%80%91%E9%AB%98%E5%8F%AF%E7%94%A8%E9%9B%86%E7%BE%A4%E6%90%AD%E5%BB%BA/"/>
    <id>http://example.com/2024/06/04/%E3%80%90Hadoop%E3%80%91%E9%AB%98%E5%8F%AF%E7%94%A8%E9%9B%86%E7%BE%A4%E6%90%AD%E5%BB%BA/</id>
    <published>2024-06-04T05:37:10.000Z</published>
    <updated>2024-06-04T12:19:50.777Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><!-- https://ganxy03.github.io/2024/04/18/ --><!-- https://ganxy03.github.io/2024/06/04/%E3%80%90Hadoop%E3%80%91%E9%AB%98%E5%8F%AF%E7%94%A8%E9%9B%86%E7%BE%A4%E6%90%AD%E5%BB%BA/ --><h2 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h2><p>本案例基于三台阿里云CentOS7，仅作hadoop高可用集群的搭建过程命令及技巧总结  </p><p>本篇以全分布式集群为基础 这里是我写的 <a href="https://ganxy03.github.io/2024/04/19/%E3%80%90Hadoop%E3%80%91%E5%85%A8%E5%88%86%E5%B8%83%E5%BC%8F%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/">全分布式集群搭建笔记</a>  </p><p>参考了CSDN上的一些帖子 以及多篇博客 根据自己的实际搭建过程总结的 有需要的小伙伴可以看看 希望能帮到你  </p><p><img src="/../data/img/2024/06/31.png" alt="lsl">  </p><h2 id="环境"><a href="#环境" class="headerlink" title="环境"></a>环境</h2><ul><li><p>jdk1.8  </p></li><li><p>hadoop3.1.3  </p></li><li><p>zookeeper3.5.7</p></li></ul><h2 id="搭建全分布式"><a href="#搭建全分布式" class="headerlink" title="搭建全分布式"></a>搭建全分布式</h2><p>这个我已经搭建好了 如果你没有准备好 先去完成这一步 可以参考我的 <a href="https://ganxy03.github.io/2024/04/19/%E3%80%90Hadoop%E3%80%91%E5%85%A8%E5%88%86%E5%B8%83%E5%BC%8F%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/">笔记</a>  </p><p>在完成全分布式搭建后 我们先复制一份这个服务的安装文件 按网上的教程说就是 <code>哪怕高可用搭建不出来 至少还能还原分布式可用</code>  </p><p>所以 我们用<code>cp</code>命令将每个机器上的hadoop安装文件都复制一份 在复制出来的文件里进行高可用集群搭建  </p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">复制原文件为HA目录 </span><br><span class="line">cp -r /opt/module/hadoop-3.1.3/ /opt/module/HA/  </span><br><span class="line"></span><br><span class="line">删除原目录的data和logs目录</span><br><span class="line">cd /opt/module/HA</span><br><span class="line">rm -rf data</span><br><span class="line">rm -rf logs</span><br><span class="line"></span><br><span class="line">同时新建Zookeeper的data和logs目录</span><br><span class="line">cd /opt/module/HA/</span><br><span class="line">mkdir logs</span><br><span class="line">mkdir tmp</span><br><span class="line"></span><br></pre></td></tr></table></figure><p><img src="/../data/img/2024/06/32.png" alt="备份">  </p><h2 id="安装zookeeper"><a href="#安装zookeeper" class="headerlink" title="安装zookeeper"></a>安装zookeeper</h2><p>解压zookeeper至&#x2F;opt&#x2F;module&#x2F;HA&#x2F;目录  </p><p><code>tar -zxvf &lt;文件名&gt; -C &lt;解压目录&gt;</code>  </p><p>注意使用带bin的压缩包 另个用不了 说是类似源码 找不到jar包 什么class对象 避坑  </p><p><img src="/../data/img/2024/06/33.png" alt="zookeeper">  </p><p><img src="/../data/img/2024/06/34.png" alt="zookeeper">  </p><p>然后 重新配置hadoop在系统环境的安装地址 <code>vim /etc/profile</code>  </p><p><img src="/../data/img/2024/06/35.png" alt="zookeeper">  </p><p>同样的 输入<code>hadoop version</code>能打印出对应的环境地址 即可</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">[root@hadoop102 ~]# hadoop version</span><br><span class="line">Hadoop 3.1.3</span><br><span class="line">Source code repository https://gitbox.apache.org/repos/asf/hadoop.git -r ba631c436b806728f8ec2f54ab1e289526c90579</span><br><span class="line">Compiled by ztang on 2019-09-12T02:47Z</span><br><span class="line">Compiled with protoc 2.5.0</span><br><span class="line">From source with checksum ec785077c385118ac91aadde5ec9799</span><br><span class="line">This command was run using /opt/module/HA/share/hadoop/common/hadoop-common-3.1.3.jar</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="配置zookeeper"><a href="#配置zookeeper" class="headerlink" title="配置zookeeper"></a>配置zookeeper</h2><p>我们需要修改原hadoop的hdfs-site.xml 和 core-site.xml文件  </p><p>同样的 现在目录就变成了 &#x2F;opt&#x2F;module&#x2F;HA&#x2F;etc&#x2F;hadoop 这个目录下  </p><ol><li><p>hdfs-site.xml  </p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br></pre></td><td class="code"><pre><span class="line">&lt;configuration&gt;</span><br><span class="line">    &lt;!-- 集群名称，此值在接下来的配置中将多次出现务必注意同步修改 --&gt;</span><br><span class="line">&lt;property&gt;</span><br><span class="line"> &lt;name&gt;dfs.nameservices&lt;/name&gt;</span><br><span class="line"> &lt;value&gt;mycluster&lt;/value&gt;</span><br><span class="line">&lt;/property&gt;</span><br><span class="line">&lt;!-- 所有的namenode列表，此处也只是逻辑名称，非namenode所在的主机名称 --&gt;</span><br><span class="line">&lt;property&gt;</span><br><span class="line"> &lt;name&gt;dfs.ha.namenodes.mycluster&lt;/name&gt;</span><br><span class="line"> &lt;value&gt;nn1,nn2&lt;/value&gt;</span><br><span class="line">&lt;/property&gt;</span><br><span class="line"></span><br><span class="line">&lt;!-- namenode之间用于RPC通信的地址，value填写namenode所在的主机地址 --&gt;</span><br><span class="line">&lt;!-- 默认端口8020，注意mycluster1与nn1要和上文的配置一致 --&gt;</span><br><span class="line">&lt;property&gt;</span><br><span class="line"> &lt;name&gt;dfs.namenode.rpc-address.mycluster.nn1&lt;/name&gt;</span><br><span class="line"> &lt;value&gt;hadoop102:8020&lt;/value&gt;</span><br><span class="line">&lt;/property&gt;</span><br><span class="line">&lt;property&gt;</span><br><span class="line"> &lt;name&gt;dfs.namenode.rpc-address.mycluster.nn2&lt;/name&gt;</span><br><span class="line"> &lt;value&gt;hadoop103:8020&lt;/value&gt;</span><br><span class="line">&lt;/property&gt;</span><br><span class="line"></span><br><span class="line">&lt;!-- namenode的web访问地址，默认端口9870 --&gt;</span><br><span class="line">&lt;property&gt;</span><br><span class="line"> &lt;name&gt;dfs.namenode.http-address.mycluster.nn1&lt;/name&gt;</span><br><span class="line"> &lt;value&gt;hadoop102:9870&lt;/value&gt;</span><br><span class="line">&lt;/property&gt;</span><br><span class="line">&lt;property&gt;</span><br><span class="line"> &lt;name&gt;dfs.namenode.http-address.mycluster.nn2&lt;/name&gt;</span><br><span class="line"> &lt;value&gt;hadoop103:9870&lt;/value&gt;</span><br><span class="line">&lt;/property&gt;</span><br><span class="line"></span><br><span class="line">&lt;!-- journalnode主机地址，最少三台，默认端口8485 --&gt;</span><br><span class="line">&lt;!-- 格式为 qjournal://jn1:port;jn2:port;jn3:port/$&#123;nameservices&#125; --&gt;</span><br><span class="line">&lt;!-- a shared edits dir must not be specified if HA is not enabled --&gt;</span><br><span class="line">&lt;!-- 伪分布式时,取消该配置 --&gt;</span><br><span class="line">&lt;property&gt;</span><br><span class="line"> &lt;name&gt;dfs.namenode.shared.edits.dir&lt;/name&gt;</span><br><span class="line"> &lt;value&gt;qjournal://hadoop102:8485;hadoop103:8485;hadoop104:8485/mycluster&lt;/value&gt;</span><br><span class="line">&lt;/property&gt;</span><br><span class="line"></span><br><span class="line">&lt;!-- 故障时自动切换的实现类，照抄即可 --&gt;</span><br><span class="line">&lt;property&gt;</span><br><span class="line"> &lt;name&gt;dfs.client.failover.proxy.provider.mycluster&lt;/name&gt;</span><br><span class="line"> &lt;value&gt;org.apache.hadoop.hdfs.server.namenode.ha.ConfiguredFailoverProxyProvider&lt;/value&gt;</span><br><span class="line">&lt;/property&gt;</span><br><span class="line"></span><br><span class="line">&lt;!-- 故障时相互操作方式(namenode要切换active和standby)，这里我们选ssh方式 --&gt;</span><br><span class="line">&lt;property&gt;</span><br><span class="line"> &lt;name&gt;dfs.ha.fencing.methods&lt;/name&gt;</span><br><span class="line"> &lt;value&gt;sshfence&lt;/value&gt;</span><br><span class="line">&lt;/property&gt;</span><br><span class="line">&lt;!-- 修改为自己用户的ssh key存放地址 --&gt;</span><br><span class="line">&lt;property&gt;</span><br><span class="line"> &lt;name&gt;dfs.ha.fencing.ssh.private-key-files&lt;/name&gt;</span><br><span class="line"> &lt;value&gt;/home/myhadoop02/.ssh/id_rsa&lt;/value&gt;</span><br><span class="line">&lt;/property&gt;</span><br><span class="line"></span><br><span class="line">&lt;!-- namenode日志文件输出路径，即journalnode读取变更的位置 --&gt;</span><br><span class="line">&lt;property&gt;</span><br><span class="line"> &lt;name&gt;dfs.journalnode.edits.dir&lt;/name&gt;</span><br><span class="line"> &lt;value&gt;/opt/module/HA/logs/&lt;/value&gt;</span><br><span class="line">&lt;/property&gt;</span><br><span class="line"></span><br><span class="line">&lt;!-- 启用自动故障转移 --&gt;</span><br><span class="line">&lt;property&gt;</span><br><span class="line"> &lt;name&gt;dfs.ha.automatic-failover.enabled&lt;/name&gt;</span><br><span class="line"> &lt;value&gt;true&lt;/value&gt;</span><br><span class="line">&lt;/property&gt;</span><br><span class="line"></span><br><span class="line">&lt;property&gt;</span><br><span class="line"> &lt;name&gt;dfs.webhdfs.enabled&lt;/name&gt;</span><br><span class="line"> &lt;value&gt;true&lt;/value&gt;</span><br><span class="line">&lt;/property&gt;</span><br><span class="line"></span><br><span class="line">&lt;!-- 解决 DataXceiver error processing WRITE_BLOCK operation src --&gt;</span><br><span class="line">&lt;property&gt;</span><br><span class="line"> &lt;name&gt;dfs.datanode.max.transfer.threads&lt;/name&gt;</span><br><span class="line"> &lt;value&gt;8192&lt;/value&gt;</span><br><span class="line"> &lt;description&gt; </span><br><span class="line">     Specifies the maximum number of threads to use for transferring data</span><br><span class="line">     in and out of the DN. </span><br><span class="line"> &lt;/description&gt;</span><br><span class="line">&lt;/property&gt;</span><br><span class="line">&lt;/configuration&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure></li><li><p>core-site.xml</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br></pre></td><td class="code"><pre><span class="line">&lt;configuration&gt;</span><br><span class="line">  &lt;!-- HDFS主入口，mycluster仅是作为集群的逻辑名称，可随意更改但务必与hdfs-site.xml中dfs.nameservices值保持一致 --&gt;</span><br><span class="line">&lt;property&gt;</span><br><span class="line"> &lt;name&gt;fs.defaultFS&lt;/name&gt;</span><br><span class="line"> &lt;value&gt;hdfs://mycluster&lt;/value&gt;</span><br><span class="line">&lt;/property&gt;</span><br><span class="line"></span><br><span class="line">&lt;!-- 默认的hadoop.tmp.dir指向的是/tmp目录，将导致namenode与datanode数据全都保存在易失目录中，此处进行修改 --&gt;</span><br><span class="line">&lt;property&gt;</span><br><span class="line">&lt;name&gt;hadoop.tmp.dir&lt;/name&gt;</span><br><span class="line">&lt;value&gt;/opt/module/HA/tmp/&lt;/value&gt;</span><br><span class="line"> &lt;!-- &lt;value&gt;/opt/bigdata/hadoopha&lt;/value&gt; --&gt;</span><br><span class="line">&lt;/property&gt;</span><br><span class="line"></span><br><span class="line">&lt;!-- 用户角色配置，不配置此项会导致web页面报错（不能操作数据） sky--&gt;</span><br><span class="line">&lt;property&gt;</span><br><span class="line"> &lt;name&gt;hadoop.http.staticuser.user&lt;/name&gt;</span><br><span class="line"> &lt;value&gt;myhadoop02&lt;/value&gt;</span><br><span class="line">&lt;/property&gt;</span><br><span class="line"></span><br><span class="line">&lt;!-- zookeeper集群地址，这里只配置了单台，如是集群以逗号进行分隔 --&gt;</span><br><span class="line">&lt;property&gt;</span><br><span class="line"> &lt;name&gt;ha.zookeeper.quorum&lt;/name&gt;</span><br><span class="line"> &lt;value&gt;hadoop102:2181,hadoop103:2181,hadoop104:2181&lt;/value&gt;</span><br><span class="line">&lt;/property&gt;</span><br><span class="line"></span><br><span class="line">&lt;!-- 权限配置 hadoop.proxyuser.&#123;填写自己的用户名&#125;.hosts  hadoop.proxyuser.sky.hosts--&gt;</span><br><span class="line">&lt;property&gt;</span><br><span class="line"> &lt;name&gt;hadoop.proxyuser.myhadoop02.hosts&lt;/name&gt;</span><br><span class="line"> &lt;value&gt;*&lt;/value&gt;</span><br><span class="line">&lt;/property&gt;</span><br><span class="line">&lt;property&gt;</span><br><span class="line"> &lt;name&gt;hadoop.proxyuser.myhadoop02.groups&lt;/name&gt;</span><br><span class="line"> &lt;value&gt;*&lt;/value&gt;</span><br><span class="line">&lt;/property&gt;</span><br><span class="line"></span><br><span class="line">&lt;!-- 解决journalnode连接不上，导致namenode启动问题 --&gt;</span><br><span class="line">&lt;!-- 也有可能是网络的问题，参考该文章:https://blog.csdn.net/tototuzuoquan/article/details/89644127 --&gt;</span><br><span class="line">&lt;!-- 在dev环境中出现连不上journalnode问题，添加该配置，以增加重试次数和间隔 --&gt;</span><br><span class="line">&lt;property&gt;</span><br><span class="line"> &lt;name&gt;ipc.client.connect.max.retries&lt;/name&gt;</span><br><span class="line"> &lt;value&gt;100&lt;/value&gt;</span><br><span class="line"> &lt;description&gt;Indicates the number of retries a client will make to establish a server connection.&lt;/description&gt;</span><br><span class="line">&lt;/property&gt;</span><br><span class="line"></span><br><span class="line">&lt;property&gt;</span><br><span class="line"> &lt;name&gt;ipc.client.connect.retry.interval&lt;/name&gt;</span><br><span class="line"> &lt;value&gt;10000&lt;/value&gt;</span><br><span class="line"> &lt;description&gt;Indicates the number of milliseconds a client will wait for before retrying to establish a server connection.&lt;/description&gt;</span><br><span class="line">&lt;/property&gt;</span><br><span class="line">&lt;/configuration&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure></li></ol><p>注意 这两个的配置文件 有需要修改的地方 对着注释 修改自己的情况  </p><p>配置文件的内容是照着 <a href="https://blog.csdn.net/qq_62592360/article/details/130816183?ops_request_misc=%257B%2522request%255Fid%2522%253A%2522171746084616800222870077%2522%252C%2522scm%2522%253A%252220140713.130102334.pc%255Fblog.%2522%257D&request_id=171746084616800222870077&biz_id=0&utm_medium=distribute.pc_search_result.none-task-blog-2~blog~first_rank_ecpm_v1~rank_v31_ecpm-3-130816183-null-null.nonecase&utm_term=hadoop&spm=1018.2226.3001.4450">CSDN上这篇帖子</a> 粘贴的  </p><p><img src="/../data/img/2024/06/37.png" alt="zookeeper">  </p><p>接下来修改hadoop-env.sh文件  </p><p>在末尾插入以下内容  </p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">export HDFS_ZKFC_USER=myhadoop02</span><br><span class="line">export HDFS_JOURNALNODE_USER=myhadoop02</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">值改成你自己的用户名</span><br></pre></td></tr></table></figure><p>然后 在</p><p>好 至此 以上的所有操作 都需要 分发到所有的机器上  </p><p>在三台机器都配置完成后 打开2181、2888、3888 端口 或者 直接关闭你的防火墙  </p><p><img src="/../data/img/2024/06/38.png" alt="zookeeper">  </p><p>复制配置文件  <code>cp zoo_sample.cfg zoo.cfg</code>  </p><p>修改dataDir的值 <code>dataDir=/opt/module/zookeeper-3.5.7/zkData</code>  </p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"># ============操作 Zookeeper============</span><br><span class="line"># 启动 Zookeeper</span><br><span class="line">bin/zkServer.sh start</span><br><span class="line"># 查看进程是否启动</span><br><span class="line">jps</span><br><span class="line"># 查看状态</span><br><span class="line">bin/zkServer.sh status</span><br><span class="line"># 启动客户端</span><br><span class="line">bin/zkCli.sh</span><br><span class="line">quit</span><br><span class="line"># 停止 Zookeeper</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>注意这里还需要配置每个myid文件 写明对应的id  </p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">且在vim zoo.cfg</span><br><span class="line"># 修改数据存储路径配置</span><br><span class="line">dataDir=/opt/module/zookeeper-3.5.7/zkData  </span><br><span class="line"># 增加如下配置</span><br><span class="line">#######################cluster##########################</span><br><span class="line">server.2=hadoop102:2888:3888</span><br><span class="line">server.3=hadoop103:2888:3888</span><br><span class="line">server.4=hadoop104:2888:3888</span><br><span class="line"></span><br></pre></td></tr></table></figure><p><a href="https://124.221.138.245:32039/down/b2zXwHlvrMLR.zip">资源及笔记</a></p>]]></content>
    
    
      
      
    <summary type="html">&lt;link rel=&quot;stylesheet&quot; class=&quot;aplayer-secondary-style-marker&quot; href=&quot;&#92;assets&#92;css&#92;APlayer.min.css&quot;&gt;&lt;script src=&quot;&#92;assets&#92;js&#92;APlayer.min.js&quot; cla</summary>
      
    
    
    
    
  </entry>
  
  <entry>
    <title>【Hadoop】全分布式环境搭建</title>
    <link href="http://example.com/2024/04/19/%E3%80%90Hadoop%E3%80%91%E5%85%A8%E5%88%86%E5%B8%83%E5%BC%8F%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/"/>
    <id>http://example.com/2024/04/19/%E3%80%90Hadoop%E3%80%91%E5%85%A8%E5%88%86%E5%B8%83%E5%BC%8F%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/</id>
    <published>2024-04-19T10:49:22.000Z</published>
    <updated>2024-06-04T12:19:57.068Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><!-- 2024-06-04 13:37:10 --><h1 id="全分布式环境搭建"><a href="#全分布式环境搭建" class="headerlink" title="全分布式环境搭建"></a>全分布式环境搭建</h1><h2 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h2><p>本案例基于三台阿里云CentOS7，仅作hadoop全分布式搭建的过程命令及技巧总结  </p><p>这里是 <a href="https://ganxy03.github.io/2024/04/18/%E3%80%90Hadoop%E3%80%91%E4%BC%AA%E5%88%86%E5%B8%83%E5%BC%8F%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/">伪分布式集群搭建</a> 没有基础 时间又不着急的小伙伴可以看看</p><h2 id="环境"><a href="#环境" class="headerlink" title="环境"></a>环境</h2><ul><li>jdk1.8 (我用的华为镜像 8u202)  </li><li>hadoop3.1.3</li></ul><h2 id="修改主机名"><a href="#修改主机名" class="headerlink" title="修改主机名"></a>修改主机名</h2><p>我们看到网上或者课本上什么slave1 slave2这种是它定义的主机名<br>我们可以改成自己的  </p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">修改</span><br><span class="line">[root@hadoop102 ~]# vim /etc/hostname</span><br><span class="line">查看</span><br><span class="line">[root@hadoop102 ~]# cat /etc/hostname</span><br><span class="line">hadoop102</span><br><span class="line"></span><br><span class="line">然后重启</span><br><span class="line">[root@hadoop102 ~]# reboot</span><br><span class="line"></span><br></pre></td></tr></table></figure><p><img src="/../data/img/2024/06/2.png" alt="hostname"></p><p>我们可以按照<a href="https://blog.csdn.net/qq_62592360/article/details/129734076?ops_request_misc=%257B%2522request%255Fid%2522%253A%2522171734110416800226513814%2522%252C%2522scm%2522%253A%252220140713.130102334.pc%255Fblog.%2522%257D&request_id=171734110416800226513814&biz_id=0&utm_medium=distribute.pc_search_result.none-task-blog-2~blog~first_rank_ecpm_v1~rank_v31_ecpm-1-129734076-null-null.nonecase&utm_term=hadoop&spm=1018.2226.3001.4450">【Hadoop】完全分布式集群搭建</a> 这篇文章里写的 设置hadoop102、hadoop103、hadoop104 三个主机名  </p><p><img src="/../data/img/2024/06/3.png" alt="hostname">  </p><h2 id="修改hosts文件"><a href="#修改hosts文件" class="headerlink" title="修改hosts文件"></a>修改hosts文件</h2><p>这一步是配置主机名对应的ip地址 然后就可以使用主机名来访问IP地址 省去了每次敲IP的繁琐  </p><p>教程都这么做 你也可以不写 用对应的主机的IP替代  </p><p>笔者建议 不熟悉的话跟着教程走  </p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">[root@hadoop102 ~]# cat /etc/hosts</span><br><span class="line">::1     localhost       localhost.localdomain   localhost6      localhost6.localdomain6</span><br><span class="line">127.0.0.1       localhost       localhost.localdomain   localhost4      localhost4.localdomain4</span><br><span class="line"></span><br><span class="line">172.16.87.240   iZf8zby4vnqmfpg38dusaqZ iZf8zby4vnqmfpg38dusaqZ</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">47.115.203.103 hadoop101</span><br><span class="line"></span><br><span class="line">172.16.87.240 hadoop102</span><br><span class="line"></span><br><span class="line">47.115.231.192 hadoop103</span><br><span class="line"></span><br><span class="line">47.113.180.24 hadoop104</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure><p><img src="/../data/img/2024/06/4.png" alt="hosts">  </p><p>以上两步 需要在每台机器上执行 </p><p>然后 先进行一个验证 来确保截至目前步骤正确</p><p>我们使用ping 命令 来给每台主机 互相ping一下  </p><p><img src="/../data/img/2024/06/5.png" alt="ping">  </p><p>当你看到 每条ping命令都有目标主机IP的响应 那么就证明你前面两个步骤没问题  </p><h2 id="配置免密登录"><a href="#配置免密登录" class="headerlink" title="配置免密登录"></a>配置免密登录</h2><p>这步免密操作 <a href="https://blog.csdn.net/qq_62592360/article/details/129734076?ops_request_misc=%257B%2522request%255Fid%2522%253A%2522171734110416800226513814%2522%252C%2522scm%2522%253A%252220140713.130102334.pc%255Fblog.%2522%257D&request_id=171734110416800226513814&biz_id=0&utm_medium=distribute.pc_search_result.none-task-blog-2~blog~first_rank_ecpm_v1~rank_v31_ecpm-1-129734076-null-null.nonecase&utm_term=hadoop&spm=1018.2226.3001.4450">【Hadoop】完全分布式集群搭建</a> 这篇教程写的不详细 我详细演示下<br>首先我们需要在每台机器上创建一个新的用户： 分别在hadoop101 hadoop102 hadoop103 主机下创建myhadoop01 myhadoop02 myhadoop03 用户  </p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">// 创建用户</span><br><span class="line">useradd -m myhadoop01</span><br><span class="line"></span><br><span class="line">// 设置密码</span><br><span class="line">passwd myhadoop01</span><br><span class="line"></span><br></pre></td></tr></table></figure><p><img src="/../data/img/2024/06/6.png" alt="user home">  </p><p>如图所示 在创建用户后 会在&#x2F;home目录新增出一个以该用户名 的文件夹  </p><p>就跟你的windows电脑在创建新用户 在C盘的用户里 多出一个那个名字的文件夹 注意 这个叫家目录 在linux里 可以用~表示路径  </p><p>然后切换到该用户下 su &lt;用户名&gt;  </p><p>输入<code>ssh-keygen -t rsa</code> 直接三次回车生成ssh密钥  </p><p><img src="/../data/img/2024/06/7.png" alt="ssh-keygen">  </p><p>密钥文件 在家目录的.ssh目录下 </p><p>这里演示的部分 就是我的&#x2F;home&#x2F;test&#x2F;.ssh 目录 </p><p><img src="/../data/img/2024/06/8.png" alt="ssh-keygen">  </p><p>这一步我们需要将每台机器上都如此操作 生成ssh密钥  </p><p>然后 将myhadoop01的密钥文件id_rsa.pub 分发到每台主机的目标用户的authorized_keys文件里  </p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">进入密钥文件目录</span><br><span class="line">cd /home/myhadoop03/.ssh </span><br><span class="line"></span><br><span class="line">分发密钥文件</span><br><span class="line">ssh-copy-id -i id_rsa &lt;用户名&gt;@&lt;主机名&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p><img src="/../data/img/2024/06/9.png" alt="ssh-keygen">  </p><p>当看到目标主机的那个用户目录出现authorized_keys文件时 就说明分发成功了  </p><p><img src="/../data/img/2024/06/10.png" alt="ssh-keygen">  </p><p>这里演示的是其他主机分发密钥到我现在操作的这台主机的test用户家目录  </p><p>同样的 这步操作 需要每台主机 互相之间都要分发密钥 这样才能实现每台主机之间免密登录  </p><p>同时 我们还需要在.ssh目录下创建 config文件 配置 免密登录的账户 主机 IP信息 </p><p>就按照下面的格式 自己写吧  分别是主机名 用户名 还有 目标机器的端口号和密钥文件路径  </p><p>这一步 一定一定不要照抄的一股脑复制昂 至少 每个机器的ssh密钥目录都是不一样的 所以 理解着来复制  </p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">Host hadoop101</span><br><span class="line">    HostName hadoop101</span><br><span class="line">    User myhadoop01</span><br><span class="line">    Port 22</span><br><span class="line">    IdentityFile /home/myhadoop03/.ssh/id_rsa</span><br><span class="line"></span><br><span class="line">Host hadoop102</span><br><span class="line">    HostName hadoop102</span><br><span class="line">    User myhadoop02</span><br><span class="line">    Port 22</span><br><span class="line">    IdentityFile /home/myhadoop03/.ssh/id_rsa</span><br><span class="line"></span><br><span class="line">Host hadoop103</span><br><span class="line">    HostName hadoop103</span><br><span class="line">    User myhadoop03</span><br><span class="line">    Port 22</span><br><span class="line">    IdentityFile /home/myhadoop03/.ssh/id_rsa</span><br><span class="line"></span><br><span class="line">Host hadoop104</span><br><span class="line">    HostName hadoop104</span><br><span class="line">    User myhadoop04</span><br><span class="line">    Port 22</span><br><span class="line">    IdentityFile /home/myhadoop03/.ssh/id_rsa</span><br><span class="line"></span><br></pre></td></tr></table></figure><p><img src="/../data/img/2024/06/11.png" alt="ssh-keygen">  </p><p>tips:<a href="https://blog.csdn.net/qq_62592360/article/details/129734076?ops_request_misc=%257B%2522request%255Fid%2522%253A%2522171734110416800226513814%2522%252C%2522scm%2522%253A%252220140713.130102334.pc%255Fblog.%2522%257D&request_id=171734110416800226513814&biz_id=0&utm_medium=distribute.pc_search_result.none-task-blog-2~blog~first_rank_ecpm_v1~rank_v31_ecpm-1-129734076-null-null.nonecase&utm_term=hadoop&spm=1018.2226.3001.4450">【Hadoop】完全分布式集群搭建</a> 这篇教程使用了分发的脚本 我菜 所以就手动操作了  有能力的可以去具体看看  </p><p>最后 我们来验证下这步是否成功  </p><p>让我们直接在终端里 直接 ssh &lt;主机名&gt;  </p><p>如果是这样<br><img src="/../data/img/2024/06/12.png" alt="ssh-keygen">  </p><p>那么 你反复对照这一节的步骤  解决一下问题 </p><p>如果是直接就登上了 那就恭喜你 免密登录成功了<br><img src="/../data/img/2024/06/13.png" alt="ssh-keygen">  </p><hr><p>ps: 因为我搭建的环境是服务器 不是虚拟机 所以我遇到了一个教程没写明的坑 这里点一下 在&#x2F;etc&#x2F;hosts文件里 本机的地址 需要换成内网IP 不然 在启动namenode进程的时候 会显示端口被占用 我在这里卡了半天..<br><img src="/../data/img/2024/06/14.png" alt="ssh-keygen">  </p><h2 id="安装jdk1-8和hadoop3-1-3"><a href="#安装jdk1-8和hadoop3-1-3" class="headerlink" title="安装jdk1.8和hadoop3.1.3"></a>安装jdk1.8和hadoop3.1.3</h2><p>这里直接使用压缩包 手动配置环境了  </p><p>资源链接我会一起打包附在底部  </p><p>按照<a href="https://blog.csdn.net/qq_62592360/article/details/129734076?ops_request_misc=%257B%2522request%255Fid%2522%253A%2522171734110416800226513814%2522%252C%2522scm%2522%253A%252220140713.130102334.pc%255Fblog.%2522%257D&request_id=171734110416800226513814&biz_id=0&utm_medium=distribute.pc_search_result.none-task-blog-2~blog~first_rank_ecpm_v1~rank_v31_ecpm-1-129734076-null-null.nonecase&utm_term=hadoop&spm=1018.2226.3001.4450">【Hadoop】完全分布式集群搭建</a> 的步骤 这两个解压出来的文件是放在&#x2F;opt&#x2F;module目录下  </p><p>那么 解压命令是 <code>tar -zxvf &lt;压缩包名&gt; -C /opt/module</code>  </p><p>如果报什么什么 &#x2F;opt&#x2F;module open 什么什么不存在的 那么就在&#x2F;opt下创建一个module目录就好了  </p><p>同理 解压jdk和hadoop都解压到&#x2F;opt&#x2F;module目录 然后在&#x2F;etc&#x2F;profile文件的文件底部添加环境变量  </p><figure class="highlight profile"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">export JAVA_HOME=/opt/jdk1.8.0_202</span><br><span class="line">export PATH=$PATH:$JAVA_HOME/bin:$JAVA_HOME/sbin</span><br><span class="line"></span><br><span class="line">export HADOOP_HOME=/opt/module/hadoop<span class="number">-3.1</span><span class="number">.3</span></span><br><span class="line">export PATH=$PATH:$HADOOP_HOME/bin:$HADOOP_HOME/sbin</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>注意 JAVA_HOME和HADOOP_HOME要换成你实际的安装路径  </p><p>然后 <code>source /etc/profile</code> 更新环境变量  </p><p>验证一下  </p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">[root@hadoop101 opt]# java -version</span><br><span class="line">java version &quot;1.8.0_202&quot;</span><br><span class="line">Java(TM) SE Runtime Environment (build 1.8.0_202-b08)</span><br><span class="line">Java HotSpot(TM) 64-Bit Server VM (build 25.202-b08, mixed mode)</span><br><span class="line">[root@hadoop101 opt]# hadoop version</span><br><span class="line">Hadoop 3.1.3</span><br><span class="line">Source code repository https://gitbox.apache.org/repos/asf/hadoop.git -r ba631c436b806728f8ec2f54ab1e289526c90579</span><br><span class="line">Compiled by ztang on 2019-09-12T02:47Z</span><br><span class="line">Compiled with protoc 2.5.0</span><br><span class="line">From source with checksum ec785077c385118ac91aadde5ec9799</span><br><span class="line">This command was run using /opt/module/hadoop-3.1.3/share/hadoop/common/hadoop-common-3.1.3.jar</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>能看到对应的java和hadoop的响应版本号 就OK了 如此操作每台机器 （同样的 这步也可以用<a href="https://blog.csdn.net/qq_62592360/article/details/129734076?ops_request_misc=%257B%2522request%255Fid%2522%253A%2522171734110416800226513814%2522%252C%2522scm%2522%253A%252220140713.130102334.pc%255Fblog.%2522%257D&request_id=171734110416800226513814&biz_id=0&utm_medium=distribute.pc_search_result.none-task-blog-2~blog~first_rank_ecpm_v1~rank_v31_ecpm-1-129734076-null-null.nonecase&utm_term=hadoop&spm=1018.2226.3001.4450">【Hadoop】完全分布式集群搭建</a> 提到的脚本去一键分发配置文件）  </p><h2 id="配置全分布式集群"><a href="#配置全分布式集群" class="headerlink" title="配置全分布式集群"></a>配置全分布式集群</h2><p>hadoop配置文件在hadoop的安装目录的&#x2F;etc&#x2F;hadoop目录下 </p><p><img src="/../data/img/2024/06/15.png" alt="config">  </p><p>我们主要需要修改四个文件 core-site.xml 、 mapred-site.xml 、 hdfs-site.xml 、 yarn-site.xml  </p><ol><li>core-site.xml</li></ol><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">&lt;configuration&gt;</span><br><span class="line">&lt;!--指定NameNode的地址--&gt;</span><br><span class="line">&lt;property&gt;</span><br><span class="line">  &lt;name&gt;fs.defaultFS&lt;/name&gt;</span><br><span class="line">  &lt;value&gt;hdfs://hadoop102:8020&lt;/value&gt;</span><br><span class="line">  &lt;description&gt;version of this configuration file&lt;/description&gt;</span><br><span class="line">&lt;/property&gt;</span><br><span class="line">&lt;!-- 指定Hadoop数据的存储目录--&gt;</span><br><span class="line">&lt;property&gt;</span><br><span class="line">  &lt;name&gt;hadoop.tmp.dir&lt;/name&gt;</span><br><span class="line">  &lt;value&gt;/opt/module/hadoop-3.1.3/data&lt;/value&gt;</span><br><span class="line">  &lt;description&gt;A base for other temporary directories.&lt;/description&gt;</span><br><span class="line">&lt;/property&gt;</span><br><span class="line">&lt;/configuration&gt;</span><br></pre></td></tr></table></figure><ol start="2"><li>mapred-site.xml</li></ol><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">&lt;configuration&gt;</span><br><span class="line">&lt;!-- 指定MapReduce程序运行在Yarn上 --&gt;</span><br><span class="line">&lt;property&gt;</span><br><span class="line">  &lt;name&gt;mapreduce.framework.name&lt;/name&gt;</span><br><span class="line">  &lt;value&gt;yarn&lt;/value&gt;</span><br><span class="line">&lt;/property&gt;</span><br><span class="line">&lt;property&gt;</span><br><span class="line">&lt;name&gt;yarn.app.mapreduce.am.env&lt;/name&gt;</span><br><span class="line">  &lt;value&gt;HADOOP_MAPRED_HOME=/opt/module/hadoop-3.1.3&lt;/value&gt;</span><br><span class="line">&lt;/property&gt;</span><br><span class="line">&lt;property&gt;</span><br><span class="line">&lt;name&gt;mapreduce.map.env&lt;/name&gt;</span><br><span class="line">  &lt;value&gt;HADOOP_MAPRED_HOME=/opt/module/hadoop-3.1.3&lt;/value&gt;</span><br><span class="line">&lt;/property&gt;</span><br><span class="line">&lt;property&gt;</span><br><span class="line">&lt;name&gt;mapreduce.reduce.env&lt;/name&gt;</span><br><span class="line">  &lt;value&gt;HADOOP_MAPRED_HOME=/opt/module/hadoop-3.1.3&lt;/value&gt;</span><br><span class="line">&lt;/property&gt;</span><br><span class="line">&lt;/configuration&gt;</span><br></pre></td></tr></table></figure><ol start="3"><li><p>hdfs-site.xml</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">&lt;configuration&gt;</span><br><span class="line">&lt;!-- nn Web端访问地址--&gt;</span><br><span class="line">&lt;property&gt;</span><br><span class="line">  &lt;name&gt;dfs.namenode.http-address&lt;/name&gt;</span><br><span class="line">  &lt;value&gt;hadoop102:9870&lt;/value&gt;</span><br><span class="line">  &lt;description&gt;</span><br><span class="line">    The address and the base port where the dfs namenode web ui will listen on.</span><br><span class="line">  &lt;/description&gt;</span><br><span class="line">&lt;/property&gt;</span><br><span class="line">&lt;!-- 2nn Web端访问地址 --&gt;</span><br><span class="line">&lt;property&gt;</span><br><span class="line">  &lt;name&gt;dfs.namenode.secondary.http-address&lt;/name&gt;</span><br><span class="line">  &lt;value&gt;hadoop104:9868&lt;/value&gt;</span><br><span class="line">&lt;/property&gt;</span><br><span class="line">&lt;/configuration&gt;</span><br></pre></td></tr></table></figure></li><li><p>yarn-site.xml</p></li></ol><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">&lt;configuration&gt;</span><br><span class="line">&lt;!-- Site specific YARN configuration properties --&gt;</span><br><span class="line">&lt;!--指定MR走shuffle--&gt;</span><br><span class="line">  &lt;property&gt;</span><br><span class="line">    &lt;name&gt;yarn.nodemanager.aux-services&lt;/name&gt;</span><br><span class="line">    &lt;value&gt;mapreduce_shuffle&lt;/value&gt;</span><br><span class="line">  &lt;/property&gt;</span><br><span class="line">&lt;!-- 指定ResourceManager的地址 --&gt;</span><br><span class="line">  &lt;property&gt;</span><br><span class="line">    &lt;name&gt;yarn.resourcemanager.hostname&lt;/name&gt;</span><br><span class="line">    &lt;value&gt;hadoop103&lt;/value&gt;</span><br><span class="line">  &lt;/property&gt;    </span><br><span class="line">&lt;!--环境变量的继承--&gt;</span><br><span class="line">  &lt;property&gt;</span><br><span class="line">    &lt;name&gt;yarn.nodemanager.env-whitelist&lt;/name&gt;</span><br><span class="line">    &lt;value&gt;</span><br><span class="line">JAVA_HOME,HADOOP_COMMON_HOME,HADOOP_HDFS_HOME,HADOOP_CONF_DIR,CLASSPATH_PREPEND_DISTCACHE,HADOOP_YARN_HOME,HADOOP_MAPRED_HOME&lt;/value&gt;</span><br><span class="line">  &lt;/property&gt;</span><br><span class="line">&lt;/configuration&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>然后 这四个文件配置完后 我们还需要在hadoop-env.sh添加java的安装目录 </p><p>大概在38行 <code>JAVA_HOME=/usr/lib/jvm/jdk-17-oracle-x64</code></p><p><img src="/../data/img/2024/06/16.png" alt="config">  </p><p><img src="/../data/img/2024/06/17.png" alt="config">  </p><p>还有workers文件 这里是配置yarn的节点  </p><p><img src="/../data/img/2024/06/18.png" alt="config">  </p><p>然后 配置完以上文件后 我们就可以格式化hadoop的文件系统了   </p><p>格式化 <code>hdfs namenode -format</code> </p><p>只需要在一台服务器上格式化就行了 </p><p><img src="/../data/img/2024/06/19.png" alt="config">  </p><p>这个是集群的各个进程服务的规划  </p><p>文件格式化之后 可能需要手动创建下&#x2F;opt&#x2F;module&#x2F;hadoop-3.1.3&#x2F;data目录 这个目录用来存储hadoop的数据  同时 我们需要给它分配对应的权限 方便起见 直接将这个文件的所有权分配给我们最开始创建的hadoop用户  </p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">chown -R myhadoop02:myhadoop02 /opt/module/HA/zookeeper/zkData</span><br><span class="line"></span><br><span class="line">chown -R &lt;用户名&gt;:&lt;用户组&gt; &lt;文件路径&gt;</span><br></pre></td></tr></table></figure><p>以上文件的配置在另外两台机器上配置过后 </p><p>按下面这张教程的截图的命令 进行启动  </p><p>注意 只需要在第一台服务器启动hdfs服务 第二台启动yarn服务</p><p><code>cd /opt/module/hadoop-3.1.3/ </code>  </p><p><code>sbin/start-dfs.sh</code></p><p><code>sbin/start-yarn.sh</code></p><p><img src="/../data/img/2024/06/20.png" alt="config">  </p><p>当按这个步骤启动后 使用<code>jps</code>命令能查到以下进程  那么恭喜你 已经搭建好了hadoop全分布式集群</p><p><img src="/../data/img/2024/06/21.png" alt="config">  </p><p><img src="/../data/img/2024/06/22.png" alt="config">  </p><p><img src="/../data/img/2024/06/23.png" alt="config">  </p><h2 id="问题排错"><a href="#问题排错" class="headerlink" title="问题排错"></a>问题排错</h2><p>我这个教程呢 也不是包对的 遇到问题还得自己解决 总之呢 教程里写的配置文件的内容呢是包没问题的 但是犯各种小细节的错误 所以 如果你遇到问题 不知道怎么解决 那么 去查看日志 根据日志的内容信息 去网上搜 都有前人踩过的坑 贴出来的  </p><p>日志在 hadoop安装目录的logs下 即&#x2F;opt&#x2F;module&#x2F;hadoop-3.1.3&#x2F;logs&#x2F;目录下 去查看你对应的进程的日志就好了  </p><p><code>tips:</code>日志太长看不懂？现在不是有AI么 把最新的一次启动的日志 复制出来 贴给AI问它怎么回事 我们只需要知道是什么问题 对应的去解决就好了  </p><p><a href="https://124.221.138.245:32039/down/b2zXwHlvrMLR.zip">资源及笔记</a></p>]]></content>
    
    
      
      
    <summary type="html">&lt;link rel=&quot;stylesheet&quot; class=&quot;aplayer-secondary-style-marker&quot; href=&quot;&#92;assets&#92;css&#92;APlayer.min.css&quot;&gt;&lt;script src=&quot;&#92;assets&#92;js&#92;APlayer.min.js&quot; cla</summary>
      
    
    
    
    
  </entry>
  
  <entry>
    <title>【Hadoop】伪分布式环境搭建</title>
    <link href="http://example.com/2024/04/18/%E3%80%90Hadoop%E3%80%91%E4%BC%AA%E5%88%86%E5%B8%83%E5%BC%8F%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/"/>
    <id>http://example.com/2024/04/18/%E3%80%90Hadoop%E3%80%91%E4%BC%AA%E5%88%86%E5%B8%83%E5%BC%8F%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/</id>
    <published>2024-04-17T16:26:34.000Z</published>
    <updated>2024-04-19T10:50:03.479Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><h1 id="伪分布式环境搭建"><a href="#伪分布式环境搭建" class="headerlink" title="伪分布式环境搭建"></a>伪分布式环境搭建</h1><h2 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h2><p>本案例基于阿里云CentOS7，仅作hadoop伪分布式搭建的过程命令及技巧总结<br>word笔记<a href="http://ganxy03.cn/package/%E5%9F%BA%E4%BA%8ECentOS7%E7%9A%84Hadoop%E9%9B%86%E7%BE%A4%E6%90%AD%E5%BB%BA.docx">（下载）</a><br><img src="/../data/img/2024/04/21.png">  </p><h2 id="Java环境搭建"><a href="#Java环境搭建" class="headerlink" title="Java环境搭建"></a>Java环境搭建</h2><p><img src="/../data/img/2024/04/03.png"><br>安装Java环境<code>yum install java-1.8.0-openjdk-devel.x86_64</code><br>验证Java环境版本 <code>java -version</code><br>查看Java安装地址 <code>which java</code>、<code>alternatives --display java</code><br><img src="/../data/img/2024/04/04.png"></p><!-- ![](../data/img/2024/04/01.png) --><ol><li>解压hadoop安装包</li></ol><p><img src="/../data/img/2024/04/02.png"><br>安装包<a href="https://hadoop.apache.org/releases.html">官网</a>下载或者我的地址:<br>链接:<a href="https://124.221.138.245:32039/down/mD8mtZhm8DyP.gz">https://124.221.138.245:32039/down/mD8mtZhm8DyP.gz</a><br>提取码:1234</p><ol start="2"><li><p>解压hadoop安装包<br><code>tar -zxvf hadoop-2.10.2-src.tar.gz</code></p></li><li><p>配置环境变量<br><code>vim /etc/profile</code></p></li></ol><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">export HADOOP_HOME = /home/Hanzl/app/hadoop-3.4.0-src  </span><br><span class="line">PATH=$JAVA_HOME/bin:$HADOOP_HOME/bin:$HADOOP_HOME/sbin:$PATH</span><br></pre></td></tr></table></figure><p>验证环境变量<br><code>echo $HADOOP_HOME</code><br><img src="/../data/img/2024/04/05.png">  </p><h2 id="Hadoop-伪分布式环境搭建"><a href="#Hadoop-伪分布式环境搭建" class="headerlink" title="Hadoop 伪分布式环境搭建"></a>Hadoop 伪分布式环境搭建</h2><p>Hadoop 配置文件很多，都位于 $HADOOP_HOME&#x2F;etc&#x2F;hadoop 下</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"></span><br><span class="line">下面简单的描述一下几个重要的配置文件：</span><br><span class="line"></span><br><span class="line">hadoop-env.sh：运行 Hadoop 要用的环境变量。</span><br><span class="line"></span><br><span class="line">core-site.xml：核心配置项，包括 HDFS、MapReduce 和 YARN 常用的 I/O 设置等。</span><br><span class="line"></span><br><span class="line">hdfs-site.xml：HDFS 相关进程的配置项，包括 NameNode、SecondaryNameNode、DataNode 等。</span><br><span class="line"></span><br><span class="line">yarn-site.xml：YARN 相关进程的配置项，包括 ResourceManager、NodeManager 等。</span><br><span class="line"></span><br><span class="line">mapred-site.xml：MapReduce 相关进程的配置项。</span><br><span class="line"></span><br><span class="line">slaves：从节点配置文件，通常每行 1 个从节点主机名。</span><br><span class="line"></span><br><span class="line">log4j.properties：系统日志、NameNode 审计日志、JVM 进程日志的配置项。</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>Hadoop 的配置文件繁多，我们可采用最小配置（6 个配置文件），其余文件保留默认即可：  </p><p>第 1 步：配置 <code>hadoop-env.sh</code>。</p><p><img src="/../data/img/2024/04/06.png"><br><img src="/../data/img/2024/04/07.png">  </p><p>第 2 步：配置 <code>core-site.xml</code>。</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">&lt;property&gt;</span><br><span class="line">    &lt;name&gt;fs.defaultFS&lt;/name&gt;</span><br><span class="line">    &lt;value&gt;hdfs://localhost:9000&lt;/value&gt;</span><br><span class="line">&lt;/property&gt;</span><br><span class="line">&lt;property&gt;</span><br><span class="line">    &lt;name&gt;hadoop.tmp.dir&lt;/name&gt;</span><br><span class="line">    &lt;value&gt;/opt/hadoop-2.9.2/tmp&lt;/value&gt;</span><br><span class="line">&lt;/property&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>配置 fs.defaultFS 指定 Hadoop 所使用的文件系统的 URI（统一资源标识符），示例中的 URI 包含协议（HDFS）、NameNode 的 IP 地址（或者机器名）和端口（9000）。</p><p>配置 hadoop.tmp.dir 指定 Hadoop 运行时产生的临时文件的存储目录。<br><img src="/../data/img/2024/04/08.png">  </p><p>第 3 步：配置 <code>hdfs-site.xml</code>。  </p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">&lt;property&gt;</span><br><span class="line">    &lt;name&gt;dfs.replication&lt;/name&gt;</span><br><span class="line">    &lt;value&gt;1&lt;/value&gt;</span><br><span class="line">&lt;/property&gt;</span><br><span class="line">&lt;property&gt;</span><br><span class="line">    &lt;name&gt;dfs.secondary.http.address&lt;/name&gt;</span><br><span class="line">    &lt;value&gt;localhost:50090&lt;/value&gt;</span><br><span class="line">&lt;/property&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>配置 dfs.replication 指定数据副本的数量，由于是伪分布式形式，只有 1 个节点，所以这里设置为 1 即可。  </p><p>配置 dfs.secondary.http.address 指定 Secondary Namenode 的地址和端口。<br><img src="/../data/img/2024/04/09.png">  </p><p>第 4 步：配置 <code>mapred-site.xml</code>。<br>原文件名为“mapred-site.xml.template”，将其另存为“mapred-site.xml”以使其生效。<br>确认其内容如下：  </p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&lt;property&gt;</span><br><span class="line">    &lt;name&gt;mapreduce.framework.name&lt;/name&gt;</span><br><span class="line">    &lt;value&gt;yarn&lt;/value&gt;</span><br><span class="line">&lt;/property&gt;</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure><p>配置 mapreduce.framework.name 指定 MapReduce 运行在 yarn 上。<br><img src="/../data/img/2024/04/10.png"><br>第 5 步：配置 <code>yarn-site.xml</code>。 </p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">&lt;property&gt;</span><br><span class="line">&lt;name&gt;yarn.resourcemanager.webapp.address&lt;/name&gt;</span><br><span class="line">&lt;value&gt;0.0.0.0:8088&lt;/value&gt;</span><br><span class="line">&lt;/property&gt;</span><br><span class="line">&lt;property&gt;</span><br><span class="line">   &lt;name&gt;yarn.resourcemanager.hostname&lt;/name&gt;</span><br><span class="line">   &lt;value&gt;localhost&lt;/value&gt;</span><br><span class="line">&lt;/property&gt;</span><br><span class="line">&lt;property&gt;</span><br><span class="line">   &lt;name&gt;yarn.nodemanager.aux-services&lt;/name&gt;</span><br><span class="line">   &lt;value&gt;mapreduce_shuffle&lt;/value&gt;</span><br><span class="line">&lt;/property&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>配置 yarn.resourcemanager.hostname 指定 YARN 的 ResourceManager 的地址。 配置 yarn.nodemanager.aux-services 指定 shuffle 机制。<br><img src="/../data/img/2024/04/11.png">  </p><p>第 6 步：配置 <code>slaves</code>。</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">localhost</span><br></pre></td></tr></table></figure><p>配置集群中的从节点，一行一个机器名（或 IP 地址）。这里因为是伪分布式模式，所以 localhost 既是主节点，又是从节点。<br><img src="/../data/img/2024/04/12.png">  </p><h2 id="后续操作"><a href="#后续操作" class="headerlink" title="后续操作"></a>后续操作</h2><h4 id="格式化文件系统。"><a href="#格式化文件系统。" class="headerlink" title="格式化文件系统。"></a>格式化文件系统。</h4><p>在主节点 master 上执行命令“hdfs namenode -format”格式化 HDFS 文件系统。</p><p><code>hdfs namenode -format</code></p><p>执行成功后，会出现 core-site.xml 中 hadoop.tmp.dir 配置项指定的目录。</p><p>需要注意的是，格式化只需要一遍即可。如果格式化出错，修改相关配置后，需要先把 hadoop.tmp.dir 配置的目录删除，才能再次格式化。  </p><p><img src="/../data/img/2024/04/13.png">  </p><h4 id="启动-Hadoop-并验证。"><a href="#启动-Hadoop-并验证。" class="headerlink" title="启动 Hadoop 并验证。"></a>启动 Hadoop 并验证。</h4><p>1、首先启动 HDFS：<br><code>start-dfs.sh</code><br><img src="/../data/img/2024/04/14.png"><br>输入root密码<br><img src="/../data/img/2024/04/15.png"><br><img src="/../data/img/2024/04/16.png"> </p><p>通过输出可以看到 namenode、datanode 和 secondarynamenode 这 3 个进程已经启动了，而且提示了对应的日志文件（*_.out就是日志文件）。如果启动失败，可以去日志文件查看报错信息。</p><p>2、启动 YARN：<br><code>start-yarn.sh</code><br><img src="/../data/img/2024/04/17.png"> </p><p>3、验证 Hadoop 是否启动成功：<br><code>jps</code><br><img src="/../data/img/2024/04/18.png"> </p><p>Web 管理工具<br>HDFS Web UI <code>http://NameNodeIP:50070</code><br>YARN Web UI <code>http://ResourceManagerIP:8088</code><br><img src="/../data/img/2024/04/19.png"><br><img src="/../data/img/2024/04/20.png"> </p><p>4、关闭<br><code>stop-yarn.sh</code>  </p><p><code>stop-dfs.sh</code></p>]]></content>
    
    
      
      
    <summary type="html">&lt;link rel=&quot;stylesheet&quot; class=&quot;aplayer-secondary-style-marker&quot; href=&quot;&#92;assets&#92;css&#92;APlayer.min.css&quot;&gt;&lt;script src=&quot;&#92;assets&#92;js&#92;APlayer.min.js&quot; cla</summary>
      
    
    
    
    
  </entry>
  
  <entry>
    <title>【Swagger】配置文件空指针（error）</title>
    <link href="http://example.com/2023/08/31/%E3%80%90Swagger%E3%80%91%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6%E7%A9%BA%E6%8C%87%E9%92%88%EF%BC%88error%EF%BC%89/"/>
    <id>http://example.com/2023/08/31/%E3%80%90Swagger%E3%80%91%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6%E7%A9%BA%E6%8C%87%E9%92%88%EF%BC%88error%EF%BC%89/</id>
    <published>2023-08-31T13:17:07.000Z</published>
    <updated>2023-08-31T13:32:22.853Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><h2 id="环境"><a href="#环境" class="headerlink" title="环境"></a>环境</h2><p>springboot: 2.7.15<br>swagger2: 2.9.2<br>swagger-ui: 2.9.2</p><h2 id="error"><a href="#error" class="headerlink" title="error"></a>error</h2><p><img src="/../data/img/2023/8/1.png" alt="空指针问题"></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Unable to infer base url. This is common when using dynamic servlet registration or when the API is behind an API Gateway. The base url is the root of where all the swagger resources are served. For e.g. if the api is available at http://example.org/api/v2/api-docs then the base url is http://example.org/api/. Please enter the location manually:</span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="解决办法"><a href="#解决办法" class="headerlink" title="解决办法"></a>解决办法</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">Springboot2<span class="number">.6</span>.x以上的避免空指针异常，在启动类加注解<span class="meta">@EnableWebMvc</span></span><br><span class="line">访问接口文档页面<span class="number">404</span>的，可以配置一个实现WebMvcConfigurer的类</span><br><span class="line"><span class="meta">@Configuration</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">WebMVCConfig</span> <span class="keyword">implements</span> <span class="title class_">WebMvcConfigurer</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">addResourceHandlers</span><span class="params">(ResourceHandlerRegistry registry)</span> &#123;</span><br><span class="line">        registry.addResourceHandler(<span class="string">&quot;/**&quot;</span>).addResourceLocations(<span class="string">&quot;classpath:/static/&quot;</span>);</span><br><span class="line">        <span class="comment">/**</span></span><br><span class="line"><span class="comment">         * 配置swagger-ui显示文档</span></span><br><span class="line"><span class="comment">         */</span></span><br><span class="line">        registry.addResourceHandler(<span class="string">&quot;swagger-ui.html&quot;</span>)</span><br><span class="line">                .addResourceLocations(<span class="string">&quot;classpath:/META-INF/resources/&quot;</span>);</span><br><span class="line">        registry.addResourceHandler(<span class="string">&quot;/webjars/**&quot;</span>)</span><br><span class="line">                .addResourceLocations(<span class="string">&quot;classpath:/META-INF/resources/webjars/&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
    
    
      
      
    <summary type="html">&lt;link rel=&quot;stylesheet&quot; class=&quot;aplayer-secondary-style-marker&quot; href=&quot;&#92;assets&#92;css&#92;APlayer.min.css&quot;&gt;&lt;script src=&quot;&#92;assets&#92;js&#92;APlayer.min.js&quot; cla</summary>
      
    
    
    
    
  </entry>
  
  <entry>
    <title>【OpVN】CentOS7搭建OpVN</title>
    <link href="http://example.com/2023/08/06/%E3%80%90OpVN%E3%80%91CentOS7%E6%90%AD%E5%BB%BAOpVN/"/>
    <id>http://example.com/2023/08/06/%E3%80%90OpVN%E3%80%91CentOS7%E6%90%AD%E5%BB%BAOpVN/</id>
    <published>2023-08-05T17:29:35.000Z</published>
    <updated>2023-08-06T08:19:59.347Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">yum install -y epel-release </span><br><span class="line"></span><br><span class="line">yum install -y openssl lzo pam openssl-devel lzo-devel pam-devel</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">yum install -y easy-rsa</span><br><span class="line"></span><br><span class="line">yum install -y openvpn</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure><p>配置证书密钥</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">cp -rf /usr/share/easy-rsa/3.0.8 /etc/openvpn/server/easy-rsa</span><br><span class="line">cd /etc/openvpn/server/easy-rsa</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">./easyrsa init-pki</span><br><span class="line">./easyrsa build-ca nopass</span><br><span class="line">./easyrsa build-server-full server nopass</span><br><span class="line">./easyrsa build-client-full client1 nopass</span><br><span class="line">./easyrsa build-client-full client2 nopass</span><br><span class="line">./easyrsa gen-dh</span><br><span class="line">openvpn --genkey --secret ta.key</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure><p>编写身份验证脚本<br>vim &#x2F;etc&#x2F;openvpn&#x2F;server&#x2F;user&#x2F;checkpsw.sh</p>]]></content>
    
    
      
      
    <summary type="html">&lt;link rel=&quot;stylesheet&quot; class=&quot;aplayer-secondary-style-marker&quot; href=&quot;&#92;assets&#92;css&#92;APlayer.min.css&quot;&gt;&lt;script src=&quot;&#92;assets&#92;js&#92;APlayer.min.js&quot; cla</summary>
      
    
    
    
    
  </entry>
  
  <entry>
    <title>【VSCode】部署网页版VScode</title>
    <link href="http://example.com/2023/08/06/%E3%80%90VSCode%E3%80%91%E9%83%A8%E7%BD%B2%E7%BD%91%E9%A1%B5%E7%89%88VScode/"/>
    <id>http://example.com/2023/08/06/%E3%80%90VSCode%E3%80%91%E9%83%A8%E7%BD%B2%E7%BD%91%E9%A1%B5%E7%89%88VScode/</id>
    <published>2023-08-05T17:16:53.000Z</published>
    <updated>2023-08-06T05:55:44.466Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><p>偶然发现VScode支持网页版</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">sudo yum install -y nodejs</span><br><span class="line"></span><br><span class="line">git clone https://github.com/cdr/code-server.git</span><br><span class="line"></span><br><span class="line">cd code-server</span><br><span class="line">npm install</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">npm run build</span><br><span class="line">npm run release</span><br><span class="line">npm run start</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">http://服务器IP地址:8080</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>这里 因为服务器下载结点比较慢 我本机挂了代理下载后上传的</p>]]></content>
    
    
      
      
    <summary type="html">&lt;link rel=&quot;stylesheet&quot; class=&quot;aplayer-secondary-style-marker&quot; href=&quot;&#92;assets&#92;css&#92;APlayer.min.css&quot;&gt;&lt;script src=&quot;&#92;assets&#92;js&#92;APlayer.min.js&quot; cla</summary>
      
    
    
    
    
  </entry>
  
  <entry>
    <title>【Mysql】CentOS7安装Mysql数据库</title>
    <link href="http://example.com/2023/08/01/%E3%80%90Mysql%E3%80%91CentOS7%E5%AE%89%E8%A3%85Mysql%E6%95%B0%E6%8D%AE%E5%BA%93/"/>
    <id>http://example.com/2023/08/01/%E3%80%90Mysql%E3%80%91CentOS7%E5%AE%89%E8%A3%85Mysql%E6%95%B0%E6%8D%AE%E5%BA%93/</id>
    <published>2023-08-01T04:48:03.000Z</published>
    <updated>2023-08-01T04:51:19.356Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">sudo yum list | grep mysql</span><br><span class="line"></span><br><span class="line">sudo wget https://dev.mysql.com/get/mysql57-community-release-el7-11.noarch.rpm</span><br><span class="line"></span><br><span class="line">sudo yum localinstall mysql57-community-release-el7-11.noarch.rpm</span><br><span class="line"></span><br><span class="line">sudo yum install mysql-server</span><br><span class="line"></span><br><span class="line">sudo systemctl start mysqld</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>]]></content>
    
    
      
      
    <summary type="html">&lt;link rel=&quot;stylesheet&quot; class=&quot;aplayer-secondary-style-marker&quot; href=&quot;&#92;assets&#92;css&#92;APlayer.min.css&quot;&gt;&lt;script src=&quot;&#92;assets&#92;js&#92;APlayer.min.js&quot; cla</summary>
      
    
    
    
    
  </entry>
  
  <entry>
    <title>【Wakeonlan】远程一键唤醒</title>
    <link href="http://example.com/2023/07/29/%E3%80%90Wakeonlan%E3%80%91%E8%BF%9C%E7%A8%8B%E4%B8%80%E9%94%AE%E5%94%A4%E9%86%92/"/>
    <id>http://example.com/2023/07/29/%E3%80%90Wakeonlan%E3%80%91%E8%BF%9C%E7%A8%8B%E4%B8%80%E9%94%AE%E5%94%A4%E9%86%92/</id>
    <published>2023-07-29T06:30:21.000Z</published>
    <updated>2023-07-29T07:17:38.908Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><h2 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h2><p>家中的台式机装了双系统 默认CentOS启动<br>本次目标是利用树莓派远程唤醒CentOS</p><h2 id="准备"><a href="#准备" class="headerlink" title="准备"></a>准备</h2><p>你需要至少两个设备 环境可以是Windows、Linux、Mac</p><h3 id="下载唤醒工具"><a href="#下载唤醒工具" class="headerlink" title="下载唤醒工具"></a>下载唤醒工具</h3><p>这里我们选择在树莓派上下载wakeonlan </p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">sudo apt-get update</span><br><span class="line"></span><br><span class="line">sudo apt-get install wakeonlan</span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="检查"><a href="#检查" class="headerlink" title="检查"></a>检查</h2><h3 id="检查主板是否支持远程唤醒"><a href="#检查主板是否支持远程唤醒" class="headerlink" title="检查主板是否支持远程唤醒"></a>检查主板是否支持远程唤醒</h3><p>进入Bios界面的高级选项里寻找类似电源管理（APM）的选项下是否有WOL、PME设备唤醒之类的选项 在我的A68HM-E主板是支持的 你也可以在官网查找该产品手册 查看是否支持</p><p>找到相关选项后 开启保存 开机即可</p><h3 id="检查目标计算机的防火墙设置允许接收唤醒信号"><a href="#检查目标计算机的防火墙设置允许接收唤醒信号" class="headerlink" title="检查目标计算机的防火墙设置允许接收唤醒信号"></a>检查目标计算机的防火墙设置允许接收唤醒信号</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">#放行9端口</span><br><span class="line">sudo firewall-cmd --zone=public --add-port=9/udp --permanent</span><br><span class="line"></span><br><span class="line">#允许与Wake-on-LAN相关的服务</span><br><span class="line">sudo firewall-cmd --zone=public --add-service=wake-on-lan --permanent</span><br><span class="line"></span><br><span class="line">#重载防火墙</span><br><span class="line">sudo firewall-cmd --reload</span><br><span class="line"></span><br><span class="line">#重启防火墙</span><br><span class="line">sudo systemctl restart firewalld</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">#其他命令</span><br><span class="line">#检查防火墙状态</span><br><span class="line">sudo systemctl status firewalld</span><br><span class="line"></span><br><span class="line">#查看防火墙规则</span><br><span class="line">sudo firewall-cmd --list-all</span><br></pre></td></tr></table></figure><h3 id="检查网络适配器的状态"><a href="#检查网络适配器的状态" class="headerlink" title="检查网络适配器的状态"></a>检查网络适配器的状态</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">ethtool &lt;interface&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p><interface>是目标计算机上的网络适配器的接口名，如enp4s0<br>保输出中的”Wake-on”字段为”g”或”pg”，表示远程唤醒功能已启用</p><h3 id="检查网络连接"><a href="#检查网络连接" class="headerlink" title="检查网络连接"></a>检查网络连接</h3><p>在同一局域网下的树莓派ping目标主机 查看是否网络连接正常</p><h2 id="配置路由端口转发"><a href="#配置路由端口转发" class="headerlink" title="配置路由端口转发"></a>配置路由端口转发</h2><p>打开路由器管理面板<br>找到类似NAT服务的服务选项 找到端口转发或端口映射的选项 创新一个新的规则<br>内部ip地址填写目标唤醒主机IP<br>内外端口都填写9<br>选择UDP协议</p><p>然后保存<br>重启路由 等待生效</p><h2 id="完成"><a href="#完成" class="headerlink" title="完成"></a>完成</h2><p>随后将目标主机进入待机或者睡眠模式<br>在同一局域网的树莓派发送wakeonlan &lt;台式机的MAC地址&gt;的指令<br>便可一键唤醒<br><code>注意 关机状态下无法唤醒</code></p><p>ps待机命令</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">linux下</span><br><span class="line">systemctl suspend</span><br><span class="line"></span><br><span class="line">Windows</span><br><span class="line">待机:shutdown /h</span><br><span class="line">休眠:shutdown /s /hybrid</span><br></pre></td></tr></table></figure>]]></content>
    
    
      
      
    <summary type="html">&lt;link rel=&quot;stylesheet&quot; class=&quot;aplayer-secondary-style-marker&quot; href=&quot;&#92;assets&#92;css&#92;APlayer.min.css&quot;&gt;&lt;script src=&quot;&#92;assets&#92;js&#92;APlayer.min.js&quot; cla</summary>
      
    
    
    
    
  </entry>
  
  <entry>
    <title>【frp】内网穿透（以家里的CentOS7为例）</title>
    <link href="http://example.com/2023/07/27/%E3%80%90frp%E3%80%91%E5%86%85%E7%BD%91%E7%A9%BF%E9%80%8F%EF%BC%88%E4%BB%A5%E5%AE%B6%E9%87%8C%E7%9A%84CentOS7%E4%B8%BA%E4%BE%8B%EF%BC%89/"/>
    <id>http://example.com/2023/07/27/%E3%80%90frp%E3%80%91%E5%86%85%E7%BD%91%E7%A9%BF%E9%80%8F%EF%BC%88%E4%BB%A5%E5%AE%B6%E9%87%8C%E7%9A%84CentOS7%E4%B8%BA%E4%BE%8B%EF%BC%89/</id>
    <published>2023-07-27T10:36:37.000Z</published>
    <updated>2023-07-29T06:26:39.961Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><h2 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h2><p>给家里的电脑装了双系统 默认CentOS的启动 寻思着给它来了个每天自启的任务 顺便给它用frp进行内网穿透 知道以前有过这样的文章 但写的太乱 今天再操手一遍流程</p><h2 id="环境"><a href="#环境" class="headerlink" title="环境"></a>环境</h2><p>服务端：CentOS7(腾讯云)<br>客户端：CentOS7(家里的台式机)</p><h2 id="开始"><a href="#开始" class="headerlink" title="开始"></a>开始</h2><p>今天的配置都不错 都是8G的运存</p><h3 id="服务端"><a href="#服务端" class="headerlink" title="服务端"></a>服务端</h3><p>先下载frp服务端</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">yum update -y</span><br><span class="line"></span><br><span class="line">yum install -y wget unzip</span><br><span class="line"></span><br><span class="line">wget https://github.com/fatedier/frp/releases/download/v0.36.0/frp_0.36.0_linux_amd64.tar.gz</span><br><span class="line"></span><br><span class="line">tar -xvf frp_0.36.0_linux_amd64.tar.gz</span><br><span class="line"></span><br><span class="line">rm -f frp_0.36.0_linux_amd64.tar.gz</span><br><span class="line"></span><br><span class="line">cd frp_0.36.0_linux_amd64</span><br><span class="line"></span><br><span class="line">rm -f frc</span><br><span class="line"></span><br><span class="line">rm -f frc.ini</span><br><span class="line"></span><br><span class="line">rm -f frc.ini.full</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>配置配置文件</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">vim frps.ini</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">输入以下内容</span><br><span class="line"></span><br><span class="line">[common]</span><br><span class="line">bind_port = 7000</span><br><span class="line">vhost_http_port = 7001</span><br><span class="line">vhost_https_port = 7002</span><br><span class="line">vhost_http_timeout = 60</span><br><span class="line">heartbeat_timeout = 90</span><br><span class="line">token = 123456</span><br><span class="line">dashboard_port = 7500</span><br><span class="line">dashboard_user = admin</span><br><span class="line">dashboard_pwd = admin</span><br><span class="line"></span><br><span class="line">:wq!</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>使用配置自启</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">使用systemd配置开机自启</span><br><span class="line">yum install systemd</span><br><span class="line"></span><br><span class="line">vim /etc/systemd/system/frps.service</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">写入以下内容</span><br><span class="line">[Unit]</span><br><span class="line"># 服务名称，可自定义</span><br><span class="line">Description = frp server</span><br><span class="line">After = network.target syslog.target</span><br><span class="line">Wants = network.target</span><br><span class="line"></span><br><span class="line">[Service]</span><br><span class="line">Type = simple</span><br><span class="line"># 启动frps的命令，需修改为您的frps的安装路径</span><br><span class="line">ExecStart = /path/to/frps -c /path/to/frps.ini</span><br><span class="line"></span><br><span class="line">[Install]</span><br><span class="line">WantedBy = multi-user.target</span><br><span class="line"></span><br><span class="line">使用 systemd 命令，管理 frps</span><br><span class="line"></span><br><span class="line"># 启动frp</span><br><span class="line">systemctl start frps</span><br><span class="line"># 停止frp</span><br><span class="line">systemctl stop frps</span><br><span class="line"># 重启frp</span><br><span class="line">systemctl restart frps</span><br><span class="line"># 查看frp状态</span><br><span class="line">systemctl status frps</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">配置 frps 开机自启。</span><br><span class="line"></span><br><span class="line">systemctl enable frps</span><br><span class="line"></span><br></pre></td></tr></table></figure><h3 id="客户端"><a href="#客户端" class="headerlink" title="客户端"></a>客户端</h3><p>下载frp</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">yum update -y</span><br><span class="line"></span><br><span class="line">yum install -y wget unzip</span><br><span class="line"></span><br><span class="line">wget https://github.com/fatedier/frp/releases/download/v0.36.0/frp_0.36.0_linux_amd64.tar.gz</span><br><span class="line"></span><br><span class="line">tar -xvf frp_0.36.0_linux_amd64.tar.gz</span><br><span class="line"></span><br><span class="line">rm -f frp_0.36.0_linux_amd64.tar.gz</span><br><span class="line"></span><br><span class="line">cd frp_0.36.0_linux_amd64</span><br><span class="line"></span><br><span class="line">rm -f frs</span><br><span class="line"></span><br><span class="line">rm -f frs.ini</span><br><span class="line"></span><br><span class="line">rm -f frs.ini.full</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>配置配置文件</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">vim frps.ini</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">输入以下内容</span><br><span class="line"></span><br><span class="line">[common]</span><br><span class="line">server_addr = 你的服务器ip地址</span><br><span class="line">server_port = 7000</span><br><span class="line">token = 123456</span><br><span class="line">heartbeat_interval = 30</span><br><span class="line">heartbeat_timeout = 90</span><br><span class="line"></span><br><span class="line">[ssh]</span><br><span class="line">type = tcp</span><br><span class="line">local_ip = 你的局域网IP地址</span><br><span class="line">local_port = 22</span><br><span class="line">remote_port = 2222</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">:wq!</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>使用配置自启</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">使用systemd配置开机自启</span><br><span class="line">yum install systemd</span><br><span class="line"></span><br><span class="line">vim /etc/systemd/system/frpc.service</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">写入以下内容</span><br><span class="line">[Unit]</span><br><span class="line"># 服务名称，可自定义</span><br><span class="line">Description = frp server</span><br><span class="line">After = network.target syslog.target</span><br><span class="line">Wants = network.target</span><br><span class="line"></span><br><span class="line">[Service]</span><br><span class="line">Type = simple</span><br><span class="line"># 启动frps的命令，需修改为您的frps的安装路径</span><br><span class="line">ExecStart = /path/to/frpc -c /path/to/frpc.ini</span><br><span class="line"></span><br><span class="line">[Install]</span><br><span class="line">WantedBy = multi-user.target</span><br><span class="line"></span><br><span class="line">使用 systemd 命令，管理 frpc</span><br><span class="line"></span><br><span class="line"># 启动frp</span><br><span class="line">systemctl start frpc</span><br><span class="line"># 停止frp</span><br><span class="line">systemctl stop frpc</span><br><span class="line"># 重启frp</span><br><span class="line">systemctl restart frpc</span><br><span class="line"># 查看frp状态</span><br><span class="line">systemctl status frpc</span><br><span class="line"></span><br><span class="line">systemctl daemon-reload</span><br><span class="line"></span><br></pre></td></tr></table></figure><p><code>参考:https://gofrp.org/docs/examples/ssh/</code></p>]]></content>
    
    
      
      
    <summary type="html">&lt;link rel=&quot;stylesheet&quot; class=&quot;aplayer-secondary-style-marker&quot; href=&quot;&#92;assets&#92;css&#92;APlayer.min.css&quot;&gt;&lt;script src=&quot;&#92;assets&#92;js&#92;APlayer.min.js&quot; cla</summary>
      
    
    
    
    
  </entry>
  
  <entry>
    <title>【web备份】站点文件及数据库MySQL的备份</title>
    <link href="http://example.com/2023/07/25/%E3%80%90web%E5%A4%87%E4%BB%BD%E3%80%91%E7%AB%99%E7%82%B9%E6%96%87%E4%BB%B6%E5%8F%8A%E6%95%B0%E6%8D%AE%E5%BA%93MySQL%E7%9A%84%E5%A4%87%E4%BB%BD/"/>
    <id>http://example.com/2023/07/25/%E3%80%90web%E5%A4%87%E4%BB%BD%E3%80%91%E7%AB%99%E7%82%B9%E6%96%87%E4%BB%B6%E5%8F%8A%E6%95%B0%E6%8D%AE%E5%BA%93MySQL%E7%9A%84%E5%A4%87%E4%BB%BD/</id>
    <published>2023-07-25T04:58:03.000Z</published>
    <updated>2023-08-05T17:30:03.833Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><h2 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h2><p>服务器到期 唯一值得备份的就是部署的站点及数据库 今天来记录下服务器站点的备份<br><img src="/../data/img/2023/7/101.png" alt="服务器到期"></p><h2 id="开始"><a href="#开始" class="headerlink" title="开始"></a>开始</h2><p>由于我这次是回滚上次备份的快照 所以原来的宝塔用不了了 面板进不去 索性就不用第三方 来个最原生的操作<br><img src="/../data/img/2023/7/102.png" alt="快照"><br><img src="/../data/img/2023/7/103.png" alt="面板进不去"></p><p>所以在面板上的phpmyadmin的数据库密码我拿不到 我也不知道了<br>不过没关系 自己有着本地最高权限 怎么会被拒之门外呢</p><p>我们先进MySQL的数据库</p><p>打开命令工具 先停止MySQL的服务</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">net stop mysql</span><br><span class="line"></span><br></pre></td></tr></table></figure><p><img src="/../data/img/2023/7/104.png" alt="stop"><br>无密码启动MySQL</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">mysqld --console --skip-grant-tables --shared-memory</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>另开一个命令工具<br>输入mysql -u root无密码登录</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">mysql -u root</span><br><span class="line"></span><br></pre></td></tr></table></figure><p><img src="/../data/img/2023/7/105.png" alt="start&amp;login"><br>登陆以后我们可以输入<code>select * from mysql.user;</code>来获取mysql数据库user表里的用户信息以及各个数据库的密码</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">select * from mysql.user;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p><img src="/../data/img/2023/7/106.png" alt="pwd"><br>如此一来 那么密码登陆也可以成功进入了<br><img src="/../data/img/2023/7/107.png" alt="login&amp;pwd"><br>参考<code>https://blog.csdn.net/weixin_51499232/article/details/124489427</code></p><p>接下来用mysql自带的dump备份sql数据库</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">mysqldump -uroot -p blog_ganxy03_cn &gt; C:/111/blog_ganxy03_cn.sql</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>回车后输入密码 便在目标目录备份成功<br><img src="/../data/img/2023/7/108.png" alt="dump"><br>备份完成<br><img src="/../data/img/2023/7/109.png" alt="dump"></p><p>转移到本地数据库</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">新建一个数据库</span><br><span class="line">CREATE DATABASE your_database_name;</span><br><span class="line">切换数据库</span><br><span class="line">USE your_database_name;</span><br><span class="line">导入数据库</span><br><span class="line">SOURCE /path/to/your/backup/file.sql;</span><br><span class="line"></span><br></pre></td></tr></table></figure>]]></content>
    
    
      
      
    <summary type="html">&lt;link rel=&quot;stylesheet&quot; class=&quot;aplayer-secondary-style-marker&quot; href=&quot;&#92;assets&#92;css&#92;APlayer.min.css&quot;&gt;&lt;script src=&quot;&#92;assets&#92;js&#92;APlayer.min.js&quot; cla</summary>
      
    
    
    
    
  </entry>
  
  <entry>
    <title>【Vmware】创建虚机（以CentOS7为例）</title>
    <link href="http://example.com/2023/07/11/%E3%80%90Vmware%E3%80%91%E5%88%9B%E5%BB%BA%E8%99%9A%E6%9C%BA%EF%BC%88%E4%BB%A5CentOS7%E4%B8%BA%E4%BE%8B%EF%BC%89/"/>
    <id>http://example.com/2023/07/11/%E3%80%90Vmware%E3%80%91%E5%88%9B%E5%BB%BA%E8%99%9A%E6%9C%BA%EF%BC%88%E4%BB%A5CentOS7%E4%B8%BA%E4%BE%8B%EF%BC%89/</id>
    <published>2023-07-11T09:12:27.000Z</published>
    <updated>2023-07-11T16:06:52.072Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><h2 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h2><p>以CentOS7为例 用Vmware创建虚拟机<br>为了不占据C系统盘的空间也方便管理 你可以像我这样 在Vmware目录下创建两个文件夹<br><img src="/../data/img/2023/7/31.png" alt="Vmware"><br>这里一个文件夹就是一个虚机<br><img src="/../data/img/2023/7/32.png" alt="虚拟机目录"><br><img src="/../data/img/2023/7/33.png" alt="镜像目录"><br>这里我已经提前把此次要安装的镜像放在镜像的文件夹下了<br>我们现在开始</p><h2 id="开始"><a href="#开始" class="headerlink" title="开始"></a>开始</h2><h3 id="配置VMware上的linux"><a href="#配置VMware上的linux" class="headerlink" title="配置VMware上的linux"></a>配置VMware上的linux</h3><p>打开VMware 选择文件&#x2F;创建虚拟机 或者直接右边的创建虚拟机<br><img src="/../data/img/2023/7/34.png" alt="创建虚拟机"><br>我们选择自定义<br><img src="/../data/img/2023/7/35.png" alt="自定义"><br>兼容性默认<br><img src="/../data/img/2023/7/36.png" alt="下一步"><br>选择第二个安装程序光盘镜像文件 在浏览里选择放在VMware目录镜像文件夹下的CentOS7的ISO镜像<br><img src="/../data/img/2023/7/37.png" alt="选择镜像"><br>填写用户虚机的名字 和你的用户名及密码<br><img src="/../data/img/2023/7/38.png" alt="用户名及密码"><br>这里的名称随便（没所谓 无伤大雅）位置是指虚拟机安装的位置 把它放到我们准备好的VMware文件下的虚拟机文件夹<br><img src="/../data/img/2023/7/39.png" alt="虚拟机位置"><br><img src="/../data/img/2023/7/40.png" alt="虚拟机位置"><br>配置处理器 这里的处理器会分去物理机的性能 看着给 后面可以改<br><img src="/../data/img/2023/7/41.png" alt="处理器"><br>配置运存虚机Linux 1G够了<br><img src="/../data/img/2023/7/42.png" alt="运存"><br>配置网络类型 默认就好 不用过多配置 后面可改<br><img src="/../data/img/2023/7/43.png" alt="网络类型"><br>默认就好<br><img src="/../data/img/2023/7/44.png" alt="I/O控制器类型"><br>默认就好<br><img src="/../data/img/2023/7/45.png" alt="磁盘类型"><br>默认就好<br><img src="/../data/img/2023/7/46.png" alt="选择磁盘"><br>默认就好 你存储不够用10G也行 系统够装就好<br><img src="/../data/img/2023/7/47.png" alt="磁盘容量"><br>选择虚拟机的磁盘存储位置 就在这个虚机的文件夹下建个位置好了<br><img src="/../data/img/2023/7/48.png" alt="磁盘位置"><br><img src="/../data/img/2023/7/49.png" alt="磁盘位置"><br>这里是前面配置的清单 以后大部分都可以改的 麻不麻烦而已<br><img src="/../data/img/2023/7/50.png" alt="完成配置"><br>点击完成 就会开始装系统 等待就好 我们前面都配置过了 VMware会帮我们填充装系统时的信息 全程不用动 等给五分钟左右就好了<br><img src="/../data/img/2023/7/51.png" alt="装系统ing"><br><img src="/../data/img/2023/7/52.png" alt="装系统ing"><br><img src="/../data/img/2023/7/53.png" alt="装系统ing"><br><img src="/../data/img/2023/7/54.png" alt="装系统ing"><br>等到装完了之后就会跳到用户登陆的界面点开输入密码就好了<br><img src="/../data/img/2023/7/55.png" alt="装系统ing"><br><img src="/../data/img/2023/7/56.png" alt="装系统ing"><br>那么就进到系统里面来了 引导欢迎界面跟Windows差不多 不用看 叉掉就好了<br><img src="/../data/img/2023/7/57.png" alt="欢迎引导界面"></p><h3 id="其他基础设置"><a href="#其他基础设置" class="headerlink" title="其他基础设置"></a>其他基础设置</h3><h4 id="改时间"><a href="#改时间" class="headerlink" title="改时间"></a>改时间</h4><p>时间不太对 我们在设置里改个时区<br><img src="/../data/img/2023/7/58.png" alt="设置"><br>点开details<br><img src="/../data/img/2023/7/59.png" alt="details"><br>选额date&amp;time 再点unlock 输入密码以获取权限 关掉自动 自己手动选择时区 选完点个done(完成)就好了 当然了 设置改好了可以顺手点个lock<br><img src="/../data/img/2023/7/60.png" alt="date&amp;time"><br><img src="/../data/img/2023/7/61.png" alt="输入密码"><br><img src="/../data/img/2023/7/62.png" alt="选择时区"><br><img src="/../data/img/2023/7/63.png" alt="设置OK"></p><h4 id="设置中文"><a href="#设置中文" class="headerlink" title="设置中文"></a>设置中文</h4><p>可能你英语不好 没关系 这里特别关怀 有中文哒~<br>同样在设置里 点开language<br><img src="/../data/img/2023/7/64.png" alt="language"><br>选择汉语 点击done（完成）<br><img src="/../data/img/2023/7/65.png" alt="汉语"><br>重启一下（restart）<br><img src="/../data/img/2023/7/66.png" alt="restart"><br>重启么 要退出当前用户账号 退呗<br><img src="/../data/img/2023/7/67.png" alt="log out"><br>重新登回来 提示随系统更改名称 换呗<br><img src="/../data/img/2023/7/68.png" alt="换名称"><br>搞定<br><img src="/../data/img/2023/7/69.png" alt="BingGo~"><br><code>ps题外话 </code><br>其实Linux比windows的优势在运行高效的方面 所以一般不用带桌面的系统 本次教程用的镜像呢 其实也是可以选择不带桌面的 但是那对新人不太友好 感兴趣的可以自行琢磨<br>但是！ 要是初体验呢 我们可以开启ssh通道 使用黑咕隆咚的命令框 浅浅踩一下无桌面的系统~ 那么咱们继续</p><h4 id="开启SSH服务"><a href="#开启SSH服务" class="headerlink" title="开启SSH服务"></a>开启SSH服务</h4><p>右键打开终端<br><img src="/../data/img/2023/7/70.png" alt="终端"><br>这里我们会用到yum的包管理工具 人家大名全名叫Yellowdog Updater, Modified<br>所以我们来看看它 输入<code>yum -v</code></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">yum -v</span><br><span class="line"></span><br></pre></td></tr></table></figure><p><img src="/../data/img/2023/7/71.png" alt="yum"><br>就打印出了yum的版本<br>这是CentOS和Fedora都在用的包管理工具 系统预装好的<br>接下来我们需要用它来安装openssh-server的软件包<br>首先我们先列出yum包里是否安装了openssh</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">sudo yum list installed openssh-server</span><br><span class="line"></span><br></pre></td></tr></table></figure><p><img src="/../data/img/2023/7/72.png" alt="输入密码"><br>看不见密码是linux都在用的保护机制 就像平常输入密码转星号一样<br>报错了 所以直接切换root账号 启用最高权限了</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">su</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>直接输入<code>su</code> 然后输入你设置的密码就好了<br>然后直接再输入刚才的命令 去掉sudo</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">yum list installed openssh-server</span><br><span class="line"></span><br></pre></td></tr></table></figure><p><img src="/../data/img/2023/7/73.png" alt="检查ssh"><br><img src="/../data/img/2023/7/74.png" alt="检查ssh"><br>这里我们可以看到 已经装好了openssh那么我们直接启动ssh就好了</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">systemctl start sshd</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>我们可以用这条命令检查ssh是否开启</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">systemctl status sshd</span><br><span class="line"></span><br></pre></td></tr></table></figure><p><img src="/../data/img/2023/7/75.png" alt="ssh:active"><br>那么ssh就开好啦<br>接下来安利一个工具 超级好用<code>Final Shell</code> 安全性怎么样不知道 偶然间发现的试了一下超级好用 强烈推荐 打包放在<a href="http://download.ganxy03.cn/download/finalshell.zip">这里</a>啦<br>首先我们先去查一下虚机的IP地址<br>这里有两个网络接口的IP</p><ul><li>ens33是物理网络接口 用于与物理网络进行通信</li><li>virbr0是虚拟网络接口 用于虚拟化环境中创建的虚拟网络<br>我们需要的是ens33的IP地址 例如我的192.168.74.131<br><img src="/../data/img/2023/7/76.png" alt="虚机的IP地址"><br>我们来到命令提示符ping一下虚机<code>（win+r 输入cmd）</code><br><img src="/../data/img/2023/7/77.png" alt="ping虚机"><br>有返回的数据说明物理机能访问到虚机 那么在Final Shell里创建一个ssh连接<br><img src="/../data/img/2023/7/78.png" alt="新建一个连接"><br>填写主机地址 ssh默认端口22<br>使用密码连接 输入系统账号的用户名和密码<br><img src="/../data/img/2023/7/79.png" alt="新建连接"><br>完了之后在连接管理器里双击连接刚才创建的实例<br><img src="/../data/img/2023/7/80.png" alt="双击连接"><br><img src="/../data/img/2023/7/81.png" alt="接受保存密钥"><br>哒哒 看到这里恭喜你连接成功啦<br><img src="/../data/img/2023/7/82.png" alt="连接成功！"></li></ul><h4 id="设置自启"><a href="#设置自启" class="headerlink" title="设置自启"></a>设置自启</h4><p>咳咳 还没完 我们刚才只是一次启动 就像手机软件一个点一下才能动一下 每次都要开机手动打开ssh过于繁琐 所以我们设置这种必要的服务自行随着开机启动</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">systemctl enable sshd</span><br><span class="line"></span><br></pre></td></tr></table></figure><p><img src="/../data/img/2023/7/83.png" alt="设置自启"><br>我们来验证一下<br>重启</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">reboot</span><br><span class="line"></span><br></pre></td></tr></table></figure><p><img src="/../data/img/2023/7/84.png" alt="自启设置成功"><br><code>小tips</code><br>ssh连接开机直接在工具里登陆就可以了 VMware上面可以不用登陆</p><h2 id="完"><a href="#完" class="headerlink" title="完"></a>完</h2><p>好啦 希望看到这里的你以后能将今天类似的思维带到其他的功能当中去<br>更多实用文章关注我的博客 不定时更新！<br>如果感觉不错 挺一个bo~</p>]]></content>
    
    
      
      
    <summary type="html">&lt;link rel=&quot;stylesheet&quot; class=&quot;aplayer-secondary-style-marker&quot; href=&quot;&#92;assets&#92;css&#92;APlayer.min.css&quot;&gt;&lt;script src=&quot;&#92;assets&#92;js&#92;APlayer.min.js&quot; cla</summary>
      
    
    
    
    
  </entry>
  
  <entry>
    <title>【Vue】配置开发环境</title>
    <link href="http://example.com/2023/07/01/%E3%80%90Vue%E3%80%91%E9%85%8D%E7%BD%AE%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83/"/>
    <id>http://example.com/2023/07/01/%E3%80%90Vue%E3%80%91%E9%85%8D%E7%BD%AE%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83/</id>
    <published>2023-07-01T07:44:49.000Z</published>
    <updated>2023-12-07T11:42:43.637Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><h2 id="环境"><a href="#环境" class="headerlink" title="环境"></a>环境</h2><ul><li>node 16.0+</li><li>npm 9.0+</li><li>vue cli 5.0+</li></ul><h2 id="开始"><a href="#开始" class="headerlink" title="开始"></a>开始</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">检查node版本</span><br><span class="line">node -v</span><br><span class="line"></span><br><span class="line">检查npm版本</span><br><span class="line">npm -v</span><br><span class="line"></span><br><span class="line">检查vue版本</span><br><span class="line">vue -V</span><br><span class="line"></span><br></pre></td></tr></table></figure><p><img src="/../data/img/2023/12/01.png" alt="cmd"></p><p>前往<a href="https://nodejs.org/en">node官网</a>下载稳定node版本 按照引导安装程序安装nodejs<br><img src="/../data/img/2023/12/02.png" alt="node"><br><img src="/../data/img/2023/12/03.png" alt="node"></p><p>按vue cli官网的命令安装<br><img src="/../data/img/2023/12/04.png" alt="node"></p>]]></content>
    
    
      
      
    <summary type="html">&lt;link rel=&quot;stylesheet&quot; class=&quot;aplayer-secondary-style-marker&quot; href=&quot;&#92;assets&#92;css&#92;APlayer.min.css&quot;&gt;&lt;script src=&quot;&#92;assets&#92;js&#92;APlayer.min.js&quot; cla</summary>
      
    
    
    
    
  </entry>
  
  <entry>
    <title>【HTML】HTML概述总结（加实例）</title>
    <link href="http://example.com/2023/07/01/%E3%80%90HTML%E3%80%91HTML%E6%A6%82%E8%BF%B0%EF%BC%88%E5%8A%A0%E5%AE%9E%E4%BE%8B%EF%BC%89/"/>
    <id>http://example.com/2023/07/01/%E3%80%90HTML%E3%80%91HTML%E6%A6%82%E8%BF%B0%EF%BC%88%E5%8A%A0%E5%AE%9E%E4%BE%8B%EF%BC%89/</id>
    <published>2023-07-01T04:02:40.000Z</published>
    <updated>2023-07-01T04:38:47.442Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><h2 id="HTML"><a href="#HTML" class="headerlink" title="HTML"></a>HTML</h2><h3 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h3><p>假期借着码字来总结HTML的学习历程，同时也查漏补缺。希望也能对你也有帮助，共勉。</p><h3 id="简介"><a href="#简介" class="headerlink" title="简介"></a>简介</h3><h4 id="介绍"><a href="#介绍" class="headerlink" title="介绍"></a>介绍</h4><p>超文本标记语言（英语：HyperText Markup Language，简称：HTML）是一种用于创建网页的标准标记语言。<br>您可以使用 HTML 来建立自己的 WEB 站点，HTML 运行在浏览器上，由浏览器来解析。<br>在本文中，您将学习如何使用 HTML 来创建站点。</p><h4 id="HTML文档的后缀名"><a href="#HTML文档的后缀名" class="headerlink" title="HTML文档的后缀名"></a>HTML文档的后缀名</h4><ul><li><code>.html</code></li><li><code>.htm</code><br>以上两种后缀名没有区别，都可以使用。</li></ul><h3 id="编辑器"><a href="#编辑器" class="headerlink" title="编辑器"></a>编辑器</h3><h4 id="HTML-编辑器推荐"><a href="#HTML-编辑器推荐" class="headerlink" title="HTML 编辑器推荐"></a>HTML 编辑器推荐</h4><p>可以使用专业的 HTML 编辑器来编辑 HTML，为大家推荐几款常用的编辑器：</p><ul><li><code>VS code:https://code.visualstudio.com/</code></li><li><code>Hbuilder:</code></li></ul><h4 id="VS-code"><a href="#VS-code" class="headerlink" title="VS code"></a>VS code</h4><p>Visual Studio Code（简称 VS Code）是一个由微软开发，同时支持 Windows 、 Linux 和 macOS 等操作系统且开放源代码的代码编辑器，编辑器中内置了扩展程序管理的功能。<br><code>VS Code 可直接下载我的资源解压直接使用：</code></p><h5 id="步骤-1-新建-HTML-文件"><a href="#步骤-1-新建-HTML-文件" class="headerlink" title="步骤 1: 新建 HTML 文件"></a>步骤 1: 新建 HTML 文件</h5><h5 id="步骤-2-另存为-HTML-文件"><a href="#步骤-2-另存为-HTML-文件" class="headerlink" title="步骤 2: 另存为 HTML 文件"></a>步骤 2: 另存为 HTML 文件</h5><h5 id="步骤-3-在浏览器中运行这个-HTML-文件"><a href="#步骤-3-在浏览器中运行这个-HTML-文件" class="headerlink" title="步骤 3: 在浏览器中运行这个 HTML 文件"></a>步骤 3: 在浏览器中运行这个 HTML 文件</h5><h3 id="基础"><a href="#基础" class="headerlink" title="基础"></a>基础</h3><h4 id="HTML标题"><a href="#HTML标题" class="headerlink" title="HTML标题"></a>HTML标题</h4><h4 id="HTML段落"><a href="#HTML段落" class="headerlink" title="HTML段落"></a>HTML段落</h4><h4 id="HTML链接"><a href="#HTML链接" class="headerlink" title="HTML链接"></a>HTML链接</h4><h4 id="HTML图像"><a href="#HTML图像" class="headerlink" title="HTML图像"></a>HTML图像</h4><h3 id="元素"><a href="#元素" class="headerlink" title="元素"></a>元素</h3><p>HTML 文档由 HTML 元素定义。</p><h4 id="HTML-元素"><a href="#HTML-元素" class="headerlink" title="HTML 元素"></a>HTML 元素</h4><h4 id="HTML-元素语法"><a href="#HTML-元素语法" class="headerlink" title="HTML 元素语法"></a>HTML 元素语法</h4><h4 id="嵌套的-HTML-元素"><a href="#嵌套的-HTML-元素" class="headerlink" title="嵌套的 HTML 元素"></a>嵌套的 HTML 元素</h4><h4 id="HTML-文档实例"><a href="#HTML-文档实例" class="headerlink" title="HTML 文档实例"></a>HTML 文档实例</h4><h4 id="HTML-实例解析"><a href="#HTML-实例解析" class="headerlink" title="HTML 实例解析"></a>HTML 实例解析</h4><h4 id="HTML-空元素"><a href="#HTML-空元素" class="headerlink" title="HTML 空元素"></a>HTML 空元素</h4><h4 id="HTML-提示：使用小写标签"><a href="#HTML-提示：使用小写标签" class="headerlink" title="HTML 提示：使用小写标签"></a>HTML 提示：使用小写标签</h4><h3 id="属性"><a href="#属性" class="headerlink" title="属性"></a>属性</h3><h3 id="标题"><a href="#标题" class="headerlink" title="标题"></a>标题</h3><h3 id="段落"><a href="#段落" class="headerlink" title="段落"></a>段落</h3><h3 id="文本格式化"><a href="#文本格式化" class="headerlink" title="文本格式化"></a>文本格式化</h3><h3 id="链接"><a href="#链接" class="headerlink" title="链接"></a>链接</h3><h3 id="头部"><a href="#头部" class="headerlink" title="头部"></a>头部</h3><h3 id="CSS"><a href="#CSS" class="headerlink" title="CSS"></a>CSS</h3><h3 id="图像"><a href="#图像" class="headerlink" title="图像"></a>图像</h3><h3 id="表格"><a href="#表格" class="headerlink" title="表格"></a>表格</h3><h3 id="列表"><a href="#列表" class="headerlink" title="列表"></a>列表</h3><h3 id="区块"><a href="#区块" class="headerlink" title="区块"></a>区块</h3><h3 id="布局"><a href="#布局" class="headerlink" title="布局"></a>布局</h3><h3 id="表单"><a href="#表单" class="headerlink" title="表单"></a>表单</h3><h3 id="框架"><a href="#框架" class="headerlink" title="框架"></a>框架</h3><h3 id="颜色"><a href="#颜色" class="headerlink" title="颜色"></a>颜色</h3><h3 id="颜色名"><a href="#颜色名" class="headerlink" title="颜色名"></a>颜色名</h3><h3 id="颜色值"><a href="#颜色值" class="headerlink" title="颜色值"></a>颜色值</h3><h3 id="脚本"><a href="#脚本" class="headerlink" title="脚本"></a>脚本</h3><h3 id="字符实体"><a href="#字符实体" class="headerlink" title="字符实体"></a>字符实体</h3><h3 id="URL"><a href="#URL" class="headerlink" title="URL"></a>URL</h3><h3 id="速查列表"><a href="#速查列表" class="headerlink" title="速查列表"></a>速查列表</h3><h3 id="标签简写及全程"><a href="#标签简写及全程" class="headerlink" title="标签简写及全程"></a>标签简写及全程</h3><h3 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h3><h2 id="HTML5"><a href="#HTML5" class="headerlink" title="HTML5"></a>HTML5</h2><h3 id="教程"><a href="#教程" class="headerlink" title="教程"></a>教程</h3><h3 id="浏览器支持"><a href="#浏览器支持" class="headerlink" title="浏览器支持"></a>浏览器支持</h3><h3 id="新元素"><a href="#新元素" class="headerlink" title="新元素"></a>新元素</h3><h3 id="Canvas"><a href="#Canvas" class="headerlink" title="Canvas"></a>Canvas</h3><h3 id="SVG"><a href="#SVG" class="headerlink" title="SVG"></a>SVG</h3><h3 id="MathML"><a href="#MathML" class="headerlink" title="MathML"></a>MathML</h3><h3 id="拖放"><a href="#拖放" class="headerlink" title="拖放"></a>拖放</h3><h3 id="地理定位"><a href="#地理定位" class="headerlink" title="地理定位"></a>地理定位</h3><h3 id="Vedio"><a href="#Vedio" class="headerlink" title="Vedio"></a>Vedio</h3><h3 id="Audio"><a href="#Audio" class="headerlink" title="Audio"></a>Audio</h3><h3 id="Input类型"><a href="#Input类型" class="headerlink" title="Input类型"></a>Input类型</h3><h3 id="表单元素"><a href="#表单元素" class="headerlink" title="表单元素"></a>表单元素</h3><h3 id="表单属性"><a href="#表单属性" class="headerlink" title="表单属性"></a>表单属性</h3><h3 id="语义元素"><a href="#语义元素" class="headerlink" title="语义元素"></a>语义元素</h3><h3 id="Web存储"><a href="#Web存储" class="headerlink" title="Web存储"></a>Web存储</h3><h3 id="Web-SQL"><a href="#Web-SQL" class="headerlink" title="Web SQL"></a>Web SQL</h3><h3 id="应用程序缓存"><a href="#应用程序缓存" class="headerlink" title="应用程序缓存"></a>应用程序缓存</h3><h3 id="Web-Workers"><a href="#Web-Workers" class="headerlink" title="Web Workers"></a>Web Workers</h3><h3 id="SSE"><a href="#SSE" class="headerlink" title="SSE"></a>SSE</h3><h3 id="WebSorket"><a href="#WebSorket" class="headerlink" title="WebSorket"></a>WebSorket</h3><h3 id="测验"><a href="#测验" class="headerlink" title="测验"></a>测验</h3><h3 id="代码规范"><a href="#代码规范" class="headerlink" title="代码规范"></a>代码规范</h3><h2 id="媒体"><a href="#媒体" class="headerlink" title="媒体"></a>媒体</h2><h3 id="媒体（Media）"><a href="#媒体（Media）" class="headerlink" title="媒体（Media）"></a>媒体（Media）</h3><h3 id="插件"><a href="#插件" class="headerlink" title="插件"></a>插件</h3><h3 id="音频"><a href="#音频" class="headerlink" title="音频"></a>音频</h3><h3 id="视频播放"><a href="#视频播放" class="headerlink" title="视频播放"></a>视频播放</h3><h3 id="视频播放-1"><a href="#视频播放-1" class="headerlink" title="视频播放"></a>视频播放</h3><h3 id="实例"><a href="#实例" class="headerlink" title="实例"></a>实例</h3><h2 id="参考手册"><a href="#参考手册" class="headerlink" title="参考手册"></a>参考手册</h2><h3 id="标签列表"><a href="#标签列表" class="headerlink" title="标签列表"></a>标签列表</h3><h3 id="标签列表-1"><a href="#标签列表-1" class="headerlink" title="标签列表"></a>标签列表</h3><h3 id="属性-1"><a href="#属性-1" class="headerlink" title="属性"></a>属性</h3><h3 id="事件"><a href="#事件" class="headerlink" title="事件"></a>事件</h3><h3 id="画布"><a href="#画布" class="headerlink" title="画布"></a>画布</h3><h3 id="音频-视频"><a href="#音频-视频" class="headerlink" title="音频&#x2F;视频"></a>音频&#x2F;视频</h3><h3 id="有效DOCTYPES"><a href="#有效DOCTYPES" class="headerlink" title="有效DOCTYPES"></a>有效DOCTYPES</h3><h3 id="颜色名-1"><a href="#颜色名-1" class="headerlink" title="颜色名"></a>颜色名</h3><h3 id="拾色器"><a href="#拾色器" class="headerlink" title="拾色器"></a>拾色器</h3><h3 id="字符集"><a href="#字符集" class="headerlink" title="字符集"></a>字符集</h3><h3 id="ASCII"><a href="#ASCII" class="headerlink" title="ASCII"></a>ASCII</h3><h3 id="ISO-8859-1"><a href="#ISO-8859-1" class="headerlink" title="ISO-8859-1"></a>ISO-8859-1</h3><h3 id="符号"><a href="#符号" class="headerlink" title="符号"></a>符号</h3><h3 id="URL编码"><a href="#URL编码" class="headerlink" title="URL编码"></a>URL编码</h3><h3 id="语言编码"><a href="#语言编码" class="headerlink" title="语言编码"></a>语言编码</h3><h3 id="消息"><a href="#消息" class="headerlink" title="消息"></a>消息</h3><h3 id="方法"><a href="#方法" class="headerlink" title="方法"></a>方法</h3><h3 id="键盘快捷键"><a href="#键盘快捷键" class="headerlink" title="键盘快捷键"></a>键盘快捷键</h3><p><code>参考 https://www.runoob.com/html/html-tutorial.html</code></p>]]></content>
    
    
      
      
    <summary type="html">&lt;link rel=&quot;stylesheet&quot; class=&quot;aplayer-secondary-style-marker&quot; href=&quot;&#92;assets&#92;css&#92;APlayer.min.css&quot;&gt;&lt;script src=&quot;&#92;assets&#92;js&#92;APlayer.min.js&quot; cla</summary>
      
    
    
    
    
  </entry>
  
  <entry>
    <title>【Raspberrypi】搭建web服务器并发布网页（Nginx篇）</title>
    <link href="http://example.com/2023/06/27/%E3%80%90Raspberrypi%E3%80%91%E6%90%AD%E5%BB%BAweb%E6%9C%8D%E5%8A%A1%E5%99%A8%E5%B9%B6%E5%8F%91%E5%B8%83%E7%BD%91%E9%A1%B5%EF%BC%88Nginx%E7%AF%87%EF%BC%89/"/>
    <id>http://example.com/2023/06/27/%E3%80%90Raspberrypi%E3%80%91%E6%90%AD%E5%BB%BAweb%E6%9C%8D%E5%8A%A1%E5%99%A8%E5%B9%B6%E5%8F%91%E5%B8%83%E7%BD%91%E9%A1%B5%EF%BC%88Nginx%E7%AF%87%EF%BC%89/</id>
    <published>2023-06-26T17:59:23.000Z</published>
    <updated>2023-06-26T17:59:23.869Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script>]]></content>
    
    
      
      
    <summary type="html">&lt;link rel=&quot;stylesheet&quot; class=&quot;aplayer-secondary-style-marker&quot; href=&quot;&#92;assets&#92;css&#92;APlayer.min.css&quot;&gt;&lt;script src=&quot;&#92;assets&#92;js&#92;APlayer.min.js&quot; cla</summary>
      
    
    
    
    
  </entry>
  
  <entry>
    <title>【Sysnology】frp映射群晖WebDav server</title>
    <link href="http://example.com/2023/06/24/%E3%80%90Sysnology%E3%80%91frp%E6%98%A0%E5%B0%84%E7%BE%A4%E6%99%96WebDav-server/"/>
    <id>http://example.com/2023/06/24/%E3%80%90Sysnology%E3%80%91frp%E6%98%A0%E5%B0%84%E7%BE%A4%E6%99%96WebDav-server/</id>
    <published>2023-06-24T13:15:39.000Z</published>
    <updated>2023-06-25T08:04:24.344Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><h2 id="设置自启"><a href="#设置自启" class="headerlink" title="设置自启"></a>设置自启</h2><p>vim &#x2F;lib&#x2F;systemd&#x2F;system&#x2F;frps.service</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">[Unit]</span><br><span class="line">Description=Frp Server Service</span><br><span class="line">After=network.target</span><br><span class="line"></span><br><span class="line">[Service]</span><br><span class="line">Type=simple</span><br><span class="line">User=nobody</span><br><span class="line">Restart=on-failure</span><br><span class="line">RestartSec=5s</span><br><span class="line">ExecStart=/home/lighthouse/frp_0.36.0_linux_amd64 -c /home/lighthouse/frp_0.36.0_linux_amd64/frps.ini</span><br><span class="line"></span><br><span class="line">[Install]</span><br><span class="line">WantedBy=multi-user.target</span><br><span class="line"></span><br><span class="line">-- 插入 --</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>sudo systemctl enable frps<br>sudo systemctl start frps</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">[root@VM-4-13-centos system]# sudo systemctl enable frps</span><br><span class="line">Created symlink from /etc/systemd/system/multi-user.target.wants/frps.service to /usr/lib/systemd/system/frps.service.</span><br><span class="line">[root@VM-4-13-centos system]# sudo systemctl start frps</span><br><span class="line">[root@VM-4-13-centos system]# </span><br><span class="line"></span><br></pre></td></tr></table></figure><p>&#x2F;home&#x2F;lighthouse&#x2F;frp_0.36.0_linux_amd64&#x2F;frps -c &#x2F;home&#x2F;lighthouse&#x2F;frp_0.36.0_linux_amd64&#x2F;frps.ini</p><p><code>参考 https://www.cnblogs.com/3hhh/p/12535454.html</code></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line">[common]  </span><br><span class="line">server_addr = 1.116.129.124</span><br><span class="line">server_port = 7000</span><br><span class="line">tls_enable = true</span><br><span class="line">authentication_method = token</span><br><span class="line">token = ganxy2003</span><br><span class="line"></span><br><span class="line">[ssh]</span><br><span class="line">type = tcp</span><br><span class="line">local_ip = 192.168.0.102</span><br><span class="line">local_port = 22</span><br><span class="line">remote_port = 2222 </span><br><span class="line"></span><br><span class="line">[web]</span><br><span class="line">type = http</span><br><span class="line">local_ip = 192.168.0.102</span><br><span class="line">local_port = 5000</span><br><span class="line">custom_domains = 1.116.129.124</span><br><span class="line">vhost_http_port = 7001</span><br><span class="line"></span><br><span class="line">[web_dav]</span><br><span class="line">type = tcp</span><br><span class="line">local_ip = 192.168.0.102</span><br><span class="line">local_port = 5005</span><br><span class="line">remote_port = 5005   #tls_enable = true</span><br><span class="line"></span><br><span class="line">heartbeat_interval = 30</span><br><span class="line">heartbeat_timeout = 90</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>测试<br>[common]<br>server_addr &#x3D; 1.116.129.124<br>server_port &#x3D; 7000</p><p>[ssh]<br>type &#x3D; tcp<br>local_ip &#x3D; 192.168.0.102<br>local_port &#x3D; 22<br>remote_port &#x3D; 2222 </p><p>[dsm]<br>type &#x3D; tcp<br>local_ip &#x3D; 192.168.0.102<br>local_port &#x3D; 5001<br>remote_port &#x3D; 443 </p><p>[ds_file]<br>type &#x3D; tcp<br>local_ip &#x3D; 192.168.0.102<br>local_port &#x3D; 5001<br>remote_port &#x3D;5001</p><p>[http_webdav]<br>type &#x3D; tcp<br>local_ip &#x3D; 192.168.0.102<br>local_port &#x3D; 5005<br>remote_port &#x3D; 5005</p><p>[emby]<br>type &#x3D; tcp<br>local_ip &#x3D; 192.168.0.102<br>local_port &#x3D; 8097<br>remote_port &#x3D; 8096</p><p>heartbeat_interval &#x3D; 30<br>heartbeat_timeout &#x3D; 90</p>]]></content>
    
    
      
      
    <summary type="html">&lt;link rel=&quot;stylesheet&quot; class=&quot;aplayer-secondary-style-marker&quot; href=&quot;&#92;assets&#92;css&#92;APlayer.min.css&quot;&gt;&lt;script src=&quot;&#92;assets&#92;js&#92;APlayer.min.js&quot; cla</summary>
      
    
    
    
    
  </entry>
  
  <entry>
    <title>【java期末实训】代码展示</title>
    <link href="http://example.com/2023/06/20/%E3%80%90java%E6%9C%9F%E6%9C%AB%E5%AE%9E%E8%AE%AD%E3%80%91%E4%BB%A3%E7%A0%81%E5%B1%95%E7%A4%BA/"/>
    <id>http://example.com/2023/06/20/%E3%80%90java%E6%9C%9F%E6%9C%AB%E5%AE%9E%E8%AE%AD%E3%80%91%E4%BB%A3%E7%A0%81%E5%B1%95%E7%A4%BA/</id>
    <published>2023-06-20T02:35:05.000Z</published>
    <updated>2023-06-20T06:23:00.877Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">ExamJFrame</span> <span class="keyword">extends</span> <span class="title class_">JFrame</span>&#123;</span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Launch the application.</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">EventQueue.invokeLater(<span class="keyword">new</span> <span class="title class_">Runnable</span>() &#123;</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">run</span><span class="params">()</span> &#123;</span><br><span class="line"><span class="keyword">try</span> &#123;</span><br><span class="line"><span class="type">ExamJFrame</span> <span class="variable">frame</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ExamJFrame</span>();</span><br><span class="line">frame.setVisible(<span class="literal">true</span>);</span><br><span class="line">&#125; <span class="keyword">catch</span> (Exception e) &#123;</span><br><span class="line">e.printStackTrace();</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;);</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Create the frame.</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="title function_">ExamJFrame</span><span class="params">()</span> &#123;</span><br><span class="line">setTitle(<span class="string">&quot;标准化考试系统&quot;</span>);</span><br><span class="line">setBounds(<span class="number">100</span>, <span class="number">100</span>, <span class="number">660</span>, <span class="number">460</span>);</span><br><span class="line">setVisible(<span class="literal">true</span>);</span><br><span class="line">welcomeLabel=<span class="keyword">new</span> <span class="title class_">JLabel</span>(<span class="string">&quot;欢迎考试,提高英语水平&quot;</span>,JLabel.CENTER);</span><br><span class="line">    list= <span class="keyword">new</span> <span class="title class_">Choice</span>();</span><br><span class="line">    String 当前目录=System.getProperty(<span class="string">&quot;user.dir&quot;</span>);</span><br><span class="line">        File dir=<span class="keyword">new</span> <span class="title class_">File</span>(当前目录);</span><br><span class="line">        displayarea = <span class="keyword">new</span>  <span class="title class_">JTextArea</span>(<span class="number">15</span>,<span class="number">12</span>);</span><br><span class="line">        displayarea.setLineWrap(<span class="literal">true</span>);</span><br><span class="line">        displayarea.setWrapStyleWord(<span class="literal">true</span>);             </span><br><span class="line">        displayarea.setFont(<span class="keyword">new</span> <span class="title class_">Font</span>(<span class="string">&quot;TimesRoman&quot;</span>,Font.PLAIN,<span class="number">14</span>));</span><br><span class="line">        displayarea.setForeground(Color.blue);</span><br><span class="line">        displayarea.setEnabled(<span class="literal">false</span>);</span><br><span class="line">        messagearea=<span class="keyword">new</span>  <span class="title class_">JTextArea</span>(<span class="number">8</span>,<span class="number">8</span>);</span><br><span class="line">        messagearea.setForeground(Color.blue);</span><br><span class="line">        messagearea.setLineWrap(<span class="literal">true</span>);</span><br><span class="line">        messagearea.setWrapStyleWord(<span class="literal">true</span>); </span><br><span class="line">        messagearea.setEnabled(<span class="literal">false</span>);</span><br><span class="line">        choosePanel.add(chooseA);</span><br><span class="line">        choosePanel.add(chooseB);</span><br><span class="line">        choosePanel.add(chooseC);</span><br><span class="line">        choosePanel.add(chooseD);</span><br><span class="line">        timeShow=<span class="keyword">new</span> <span class="title class_">JTextField</span>(<span class="number">20</span>);</span><br><span class="line">        timeShow.setHorizontalAlignment(SwingConstants.RIGHT); </span><br><span class="line">        timeShow.setEditable(<span class="literal">false</span>);</span><br><span class="line">        timer=<span class="keyword">new</span> <span class="title class_">JButton</span>(<span class="string">&quot;暂停计时&quot;</span>);</span><br><span class="line">        submmit=<span class="keyword">new</span> <span class="title class_">JButton</span>(<span class="string">&quot;提交该题答案&quot;</span>);</span><br><span class="line">        next=<span class="keyword">new</span> <span class="title class_">JButton</span>(<span class="string">&quot;读取第一题&quot;</span>);</span><br><span class="line">        next.setForeground(Color.blue);</span><br><span class="line">        submmit.setForeground(Color.blue);</span><br><span class="line">        viewscore=<span class="keyword">new</span> <span class="title class_">JButton</span>(<span class="string">&quot;查看分数&quot;</span>);</span><br><span class="line">        viewscore.setForeground(Color.blue);</span><br><span class="line">        submmit.setEnabled(<span class="literal">false</span>);</span><br><span class="line">        readquestions=<span class="keyword">new</span> <span class="title class_">ReadTestquestion</span>();</span><br><span class="line">    Box boxH1=Box.createVerticalBox(),</span><br><span class="line">      boxH2=Box.createVerticalBox(),</span><br><span class="line">          baseBox=Box.createHorizontalBox();</span><br><span class="line">        boxH1.add(<span class="keyword">new</span> <span class="title class_">JLabel</span>(<span class="string">&quot;选择试题文件&quot;</span>));</span><br><span class="line">        boxH1.add(list);</span><br><span class="line">        boxH1.add(<span class="keyword">new</span> <span class="title class_">JScrollPane</span>(messagearea));</span><br><span class="line">        boxH1.add(viewscore);</span><br><span class="line">        timeShow=<span class="keyword">new</span> <span class="title class_">JTextField</span>(<span class="number">20</span>);</span><br><span class="line">        timeShow.setHorizontalAlignment(SwingConstants.RIGHT); </span><br><span class="line">        timeShow.setEditable(<span class="literal">false</span>);</span><br><span class="line">        JPanel p1=<span class="keyword">new</span> <span class="title class_">JPanel</span>();</span><br><span class="line">        p1.add(<span class="keyword">new</span> <span class="title class_">JLabel</span>(<span class="string">&quot;剩余时间：&quot;</span>));</span><br><span class="line">        p1.add(timeShow);                      </span><br><span class="line">        p1.add(timer);</span><br><span class="line">        boxH1.add(p1);    </span><br><span class="line">        boxH2.add(<span class="keyword">new</span> <span class="title class_">JLabel</span>(<span class="string">&quot;试题内容:&quot;</span>));</span><br><span class="line">        boxH2.add(<span class="keyword">new</span> <span class="title class_">JScrollPane</span>(displayarea));</span><br><span class="line">        JPanel p2=<span class="keyword">new</span> <span class="title class_">JPanel</span>();</span><br><span class="line">        p2.add(choosePanel);               </span><br><span class="line">        p2.add(submmit);</span><br><span class="line">        p2.add(next);</span><br><span class="line">        boxH2.add(p2); </span><br><span class="line">        baseBox.add(boxH1);</span><br><span class="line">        baseBox.add(boxH2);</span><br><span class="line">        setLayout(<span class="keyword">new</span> <span class="title class_">BorderLayout</span>());</span><br><span class="line">        add(baseBox,BorderLayout.CENTER);</span><br><span class="line">        add(welcomeLabel,BorderLayout.NORTH);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>]]></content>
    
    
      
      
    <summary type="html">&lt;link rel=&quot;stylesheet&quot; class=&quot;aplayer-secondary-style-marker&quot; href=&quot;&#92;assets&#92;css&#92;APlayer.min.css&quot;&gt;&lt;script src=&quot;&#92;assets&#92;js&#92;APlayer.min.js&quot; cla</summary>
      
    
    
    
    
  </entry>
  
  <entry>
    <title>【Web Server】利用IIS、Nginx本地部署网站</title>
    <link href="http://example.com/2023/06/14/%E3%80%90Web-Server%E3%80%91%E5%88%A9%E7%94%A8IIS%E3%80%81Nginx%E6%9C%AC%E5%9C%B0%E9%83%A8%E7%BD%B2%E7%BD%91%E7%AB%99/"/>
    <id>http://example.com/2023/06/14/%E3%80%90Web-Server%E3%80%91%E5%88%A9%E7%94%A8IIS%E3%80%81Nginx%E6%9C%AC%E5%9C%B0%E9%83%A8%E7%BD%B2%E7%BD%91%E7%AB%99/</id>
    <published>2023-06-13T19:28:22.000Z</published>
    <updated>2023-07-13T04:15:20.309Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><h2 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h2><p>建站一年多 记下学习的历程 希望能帮到有需要的你</p><h2 id="IIS篇"><a href="#IIS篇" class="headerlink" title="IIS篇"></a>IIS篇</h2><h3 id="介绍"><a href="#介绍" class="headerlink" title="介绍"></a>介绍</h3><p>IIS作为Windows自带的应用程序 跟远程桌面一样与windows系统有着很好的兼容性 操作界面可视化 上手容易 windows各版本开启此功能大差不差 那么本篇以win11作为参考 我们现在开始。</p><h3 id="开始"><a href="#开始" class="headerlink" title="开始"></a>开始</h3><h4 id="安装IIS"><a href="#安装IIS" class="headerlink" title="安装IIS"></a>安装IIS</h4><p>打开控制面板<br><img src="/../data/img/2023/7/1.png" alt="控制面板"><br>点开程序<br><img src="/../data/img/2023/7/2.png" alt="程序"><br>点开启用或关闭Windows功能<br><img src="/../data/img/2023/7/3.png" alt="启用或关闭Windows功能"><br>找到IIS选项并勾上 （默认就好 其他以后用到再说）<br><img src="/../data/img/2023/7/4.png" alt="IIS"><br>完成<br><img src="/../data/img/2023/7/5.png" alt="完成"></p><h4 id="打开IIS"><a href="#打开IIS" class="headerlink" title="打开IIS"></a>打开IIS</h4><p>打开IIS有多种方法 你可以选择你方便的</p><ul><li>返回控制面板 点开windows工具 找到IIS<br><img src="/../data/img/2023/7/6.png" alt="windows工具"><br><img src="/../data/img/2023/7/7.png" alt="IIS"></li><li>打开命令提示符（win+R） 输入inetmgr 然后点击”确定”<br><img src="/../data/img/2023/7/8.png" alt="inetmgr"><br><img src="/../data/img/2023/7/9.png" alt="IIS"></li><li>或者直接在开始菜单栏里搜索IIS<br><img src="/../data/img/2023/7/10.png" alt="IIS"></li></ul><h4 id="验证IIS服务"><a href="#验证IIS服务" class="headerlink" title="验证IIS服务"></a>验证IIS服务</h4><p><code>简单解释下为什么编译器明明就能看到网页非要弄这么一个服务器：</code><br>因为编译器仅仅只是调试 而且只是在本地 其他设备不能访问 诸如你的手机、室友的电脑<br>咱且不说源文件什么的 就只说效果 有这么一个web服务器 就可以打破本地浏览网页效果的屏障 这就是web服务器的作用<br><code>另外IIS是开机自启的 所以我们可以直接验证下IIS服务是否开启</code><br>不需要域名 只需要一个ip地址就可以访问本机运行的web服务 所以你可以通过命令提示符来查询本机地址（win+R 输入cmd）<br><img src="/../data/img/2023/7/11.png" alt="命令提示符"><br>输入ipconfig 找到你对应的网络适配器（以太网就是网线 无线局域网就是wifi）<br>IPv4就是你的IP地址 比如我的192.168.3.138<br><img src="/../data/img/2023/7/12.png" alt="本机IP地址"><br>打开你的浏览器 在最顶上的一栏输入刚才你查到的IP地址192.168.3.138<br><img src="/../data/img/2023/7/13.png" alt="IIS默认界面"><br>看到这个界面说明你的IIS服务开启成功了</p><h4 id="部署发布自己的网站"><a href="#部署发布自己的网站" class="headerlink" title="部署发布自己的网站"></a>部署发布自己的网站</h4><p><code>首先你要知道IIS的默认根目录在哪里</code><br>A:在C盘的inetpub的wwwroot文件夹内<br><img src="/../data/img/2023/7/14.png" alt="IIS默认根目录"><br>我们刚才测试访问的就是在这里的iisstart.html文件<br><img src="/../data/img/2023/7/15.png" alt="IIS根目录下的默认文件"><br>同理 我们可以在这里部署并发布自己的各个网站<br>展开服务器名称 右键单击”网站” 选择”添加网站”<br><img src="/../data/img/2023/7/16.png" alt="IIS根目录下的默认文件"><br><img src="/../data/img/2023/7/17.png" alt="IIS根目录下的默认文件"><br>点开该站点目录下的默认文档 添加你站点想要作为首页的文件名（默认文档只要有一个就行了 不然会冲突 建议统一命名为index 此处演示不做规范）<br><code>ps</code>网站默认部署在80端口<br><img src="/../data/img/2023/7/18.png" alt="默认文档"><br><img src="/../data/img/2023/7/19.png" alt="默认文件"><br><img src="/../data/img/2023/7/20.png" alt="站点目录"><br>然后打开浏览器访问你的IP地址+映射的端口就可以访问到啦<br><img src="/../data/img/2023/7/21.png" alt="部署成功！"></p><p><code>PS:</code><br>该方法就是在一IP地址下通过配置不同的端口 给每个站点的目录分配对应的地址 你在访问该IP+端口的时候 本质就是访问在你C盘上的这个站点根目录<br>好啦 快去试试吧!</p><h4 id="更多小Tips"><a href="#更多小Tips" class="headerlink" title="更多小Tips"></a>更多小Tips</h4><p>除了部署文件 IIS的可玩性也是相当 我们可以看到在inetpub目录下在咱们默认安装的时候有五个文件<br><img src="/../data/img/2023/7/22.png" alt="inetpub目录"></p><ul><li>custerr 存储自定义错误页面的配置文件和静态页面 当IIS遇到HTTP错误时 它将根据custerr文件夹中的配置来显示自定义的错误页面</li><li>history 存储IIS的历史记录 包含有关过去请求和响应的信息 可用于故障排除和分析</li><li>logs 存储IIS的日志文件 记录了每个请求的详细信息，包括访问时间、客户端IP地址、请求的URL、服务器响应代码等</li><li>temp 存储IIS的临时文件 处理请求时生成的一些临时文件 例如缓存文件和上传的文件</li><li>wwwroot 默认的Web站点根目录 存储Web应用程序的文件和内容<br>其中你可以利用log日志来初步查看你的站点安全<br><img src="/../data/img/2023/7/22.png" alt="logs目录"><br>W3SVC1和W3SVC2分别对应我们目前创建的两个站点<br><img src="/../data/img/2023/7/23.png" alt="站点日志"><br><img src="/../data/img/2023/7/24.png" alt="W3SVC2"><br>由命名规则可知 日志默认是按天生成 日志独立于站点 删除站点目录和应用 日志还是存在 所以日志是手动删除 确认后再谨慎删除 毕竟数据无价嘛对吧<br>当然了 如果你的打开你的日志发现时间比你的早八个小时你可以在IIS的日志设置里设置本地时间 然后勾上就好了 反应有些延迟 但不过这样就好啦<br><img src="/../data/img/2023/7/25.png" alt="关于日志日期"><br><img src="/../data/img/2023/7/26.png" alt="日志"><br><img src="/../data/img/2023/7/27.png" alt="本地时间"><br>或许以后实际工作中会涉及Cluster（集群） 将多个服务器组合以提供高可用性和负载均衡的功能 但那不在本篇教程范围内 有兴趣可以自行了解探索</li></ul><h3 id="完"><a href="#完" class="headerlink" title="完"></a>完</h3><p>觉得本篇文章不错的 挺一个bo~</p><h2 id="Nginx篇"><a href="#Nginx篇" class="headerlink" title="Nginx篇"></a>Nginx篇</h2><h3 id="介绍-1"><a href="#介绍-1" class="headerlink" title="介绍"></a>介绍</h3><p>Nginx是一个轻量级的服务器 能够有效地处理高并发和大流量情况 并且使用的内存较少<br>下面这是一些常见的Web服务器 可以了解下<br><img src="/../data/img/2023/7/85.png" alt="常见Web服务器"><br>本篇呢 主要介绍Nginx 适用于类似树莓派之类性能吃紧的linux部署网站</p><h3 id="开始-1"><a href="#开始-1" class="headerlink" title="开始"></a>开始</h3><p>ssh连接linux<br><img src="/../data/img/2023/7/86.png" alt="ssh连接linux"><br>好我们现在开始<br>先安装依赖，更新yum软件包管理器后安装</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">yum install epel-release</span><br><span class="line"></span><br><span class="line">yum update</span><br><span class="line"></span><br><span class="line">yum install nginx</span><br><span class="line"></span><br></pre></td></tr></table></figure><p><img src="/../data/img/2023/7/87.png" alt="安装成功"></p><p>启动nginx 并配置开机自启</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">systemctl start nginx</span><br><span class="line"></span><br><span class="line">systemctl enable nginx</span><br><span class="line"></span><br></pre></td></tr></table></figure><p><img src="/../data/img/2023/7/88.png" alt="运行成功"><br>其他命令</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">停止服务</span><br><span class="line">systemctl stop nginx   </span><br><span class="line">查看服务状态</span><br><span class="line">systemctl status nginx</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>打开浏览器访问虚机地址<br><img src="/../data/img/2023/7/89.png" alt="访问成功"><br><code>ps</code> 在CentOS上 nginx默认显示的是CentOS的页面<br>站点根目录 默认在&#x2F;usr&#x2F;share&#x2F;nginx&#x2F;html&#x2F;下的index.html 可根据需要更改<br><img src="/../data/img/2023/7/90.png" alt="添加自己的网页"><br><img src="/../data/img/2023/7/91.png" alt="访问成功"><br><code>ps</code> vim命令 的编辑模式是先敲一个字母 左下角显示插入 即可编辑<br>退出编辑模式 先按下esc键 然后输入:wq  在一些权限不够的情况下 需要加叹号:wq!<br><img src="/../data/img/2023/7/92.png" alt="vim"><br><img src="/../data/img/2023/7/93.png" alt="vim"></p><h3 id="更多Tips"><a href="#更多Tips" class="headerlink" title="更多Tips"></a>更多Tips</h3><p>部署多站点<br>先进入&#x2F;etc&#x2F;nginx&#x2F;新建一个文件夹 专门放站点</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">cd /etc/nginx/</span><br><span class="line"></span><br><span class="line">mkdir sites</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>进入sites目录 放置站点文件</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">cd sites</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>配置在&#x2F;etc&#x2F;nginx下的nginx.conf文件<br>找http下的server块 复制该块 把两个80端口改成我们要映射的81端口<br><img src="/../data/img/2023/7/94.png" alt="配置nginx.conf"><br>然后我们关闭防火墙在浏览器访问</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">systemctl status firewalld</span><br><span class="line"></span><br><span class="line">systemctl stop firewalld</span><br><span class="line"></span><br><span class="line">systemctl start firewalld</span><br><span class="line"></span><br></pre></td></tr></table></figure><p><img src="/../data/img/2023/7/95.png" alt="81端口部署成功"></p><p>当然啦 我们可以开启防火墙开放一个81端口</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">firewall-cmd --zone=public --add-port=81/tcp --permanent</span><br><span class="line"></span><br><span class="line">firewall-cmd --reload</span><br><span class="line"></span><br><span class="line">firewall-cmd --zone=public --list-ports</span><br><span class="line"></span><br></pre></td></tr></table></figure><p><img src="/../data/img/2023/7/96.png" alt="81端口开行成功"><br><img src="/../data/img/2023/7/95.png" alt="81端口部署成功"><br>试试吧 81端口还是可以访问哒~</p><h2 id="完-1"><a href="#完-1" class="headerlink" title="完"></a>完</h2><p>IIS、Nginx简单本地部署站点就到这啦 如果你想发布到公网 还需要配合带有公网IP的服务器和一个域名<br>觉得不错挺一个bo~<br>完结撒花~</p>]]></content>
    
    
      
      
    <summary type="html">&lt;link rel=&quot;stylesheet&quot; class=&quot;aplayer-secondary-style-marker&quot; href=&quot;&#92;assets&#92;css&#92;APlayer.min.css&quot;&gt;&lt;script src=&quot;&#92;assets&#92;js&#92;APlayer.min.js&quot; cla</summary>
      
    
    
    
    
  </entry>
  
</feed>
